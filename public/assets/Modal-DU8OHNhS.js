import{m as ae,o as pe,s as J,r as a,n as Ee,j as l,f as b,p as qe,q as xe,t as Se,v as Xe,d as $,e as k,g as Ye,w as Je,x as Ce,F as Ae,y as Qe,z as Ze}from"./index-CFC_skDo.js";import{u as ye,a as we,b as Pe,c as Me,d as et}from"./useWindow-BqbRBza5.js";import{d as tt,q as I}from"./DataKey-COGXBUcQ.js";import{N as nt}from"./NoopTransition-DRW2_py_.js";import{d as ot}from"./divWithClassName-Dn3DrZ5P.js";var se;function ke(e){if((!se&&se!==0||e)&&ae){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),se=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return se}function fe(e){e===void 0&&(e=pe());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function rt(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const Ne=tt("modal-open");class ve{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return rt(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[o]:r.style[o]},t.scrollBarWidth&&(n[o]=`${parseInt(J(r,o)||"0",10)+t.scrollBarWidth}px`),r.setAttribute(Ne,""),J(r,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(Ne),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const he=(e,t)=>ae?e==null?(t||pe()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function st(e,t){const n=ye(),[o,r]=a.useState(()=>he(e,n==null?void 0:n.document));if(!o){const s=he(e);s&&r(s)}return a.useEffect(()=>{},[t,o]),a.useEffect(()=>{const s=he(e);s!==o&&r(s)},[e,o]),o}function at(e){return e.code==="Escape"||e.keyCode===27}function it(){const e=a.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}const lt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function dt(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function ct(e){let{onEnter:t,onEntering:n,onEntered:o,onExit:r,onExiting:s,onExited:h,addEndListener:g,children:u}=e,f=dt(e,lt);const{major:m}=it(),v=m>=19?u.props.ref:u.ref,p=a.useRef(null),R=Ee(p,typeof u=="function"?null:v),E=x=>C=>{x&&p.current&&x(p.current,C)},O=a.useCallback(E(t),[t]),_=a.useCallback(E(n),[n]),T=a.useCallback(E(o),[o]),H=a.useCallback(E(r),[r]),j=a.useCallback(E(s),[s]),K=a.useCallback(E(h),[h]),G=a.useCallback(E(g),[g]);return Object.assign({},f,{nodeRef:p},t&&{onEnter:O},n&&{onEntering:_},o&&{onEntered:T},r&&{onExit:H},s&&{onExiting:j},h&&{onExited:K},g&&{addEndListener:G},{children:typeof u=="function"?(x,C)=>u(x,Object.assign({},C,{ref:R})):a.cloneElement(u,{ref:R})})}const ut=["component"];function ft(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}const ht=a.forwardRef((e,t)=>{let{component:n}=e,o=ft(e,ut);const r=ct(o);return l.jsx(n,Object.assign({ref:t},r))});function gt({in:e,onTransition:t}){const n=a.useRef(null),o=a.useRef(!0),r=b(t);return we(()=>{if(!n.current)return;let s=!1;return r({in:e,element:n.current,initial:o.current,isStale:()=>s}),()=>{s=!0}},[e,r]),we(()=>(o.current=!1,()=>{o.current=!0}),[]),n}function mt({children:e,in:t,onExited:n,onEntered:o,transition:r}){const[s,h]=a.useState(!t);t&&s&&h(!1);const g=gt({in:!!t,onTransition:f=>{const m=()=>{f.isStale()||(f.in?o==null||o(f.element,f.initial):(h(!0),n==null||n(f.element)))};Promise.resolve(r(f)).then(m,v=>{throw f.in||h(!0),v})}}),u=Ee(g,e.ref);return s&&!t?null:a.cloneElement(e,{ref:u})}function Oe(e,t,n){return e?l.jsx(ht,Object.assign({},n,{component:e})):t?l.jsx(mt,Object.assign({},n,{transition:t})):l.jsx(nt,Object.assign({},n))}const pt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Et(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}let ge;function yt(e){return ge||(ge=new ve({ownerDocument:e==null?void 0:e.document})),ge}function vt(e){const t=ye(),n=e||yt(t),o=a.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:a.useCallback(r=>{o.current.dialog=r},[]),setBackdropRef:a.useCallback(r=>{o.current.backdrop=r},[])})}const Be=a.forwardRef((e,t)=>{let{show:n=!1,role:o="dialog",className:r,style:s,children:h,backdrop:g=!0,keyboard:u=!0,onBackdropClick:f,onEscapeKeyDown:m,transition:v,runTransition:p,backdropTransition:R,runBackdropTransition:E,autoFocus:O=!0,enforceFocus:_=!0,restoreFocus:T=!0,restoreFocusOptions:H,renderDialog:j,renderBackdrop:K=d=>l.jsx("div",Object.assign({},d)),manager:G,container:x,onShow:C,onHide:U=()=>{},onExit:ie,onExited:V,onExiting:Q,onEnter:Z,onEntering:P,onEntered:ee}=e,le=Et(e,pt);const w=ye(),S=st(x),c=vt(G),de=qe(),te=Pe(n),[N,A]=a.useState(!n),y=a.useRef(null);a.useImperativeHandle(t,()=>c,[c]),ae&&!te&&n&&(y.current=fe(w==null?void 0:w.document)),n&&N&&A(!1);const M=b(()=>{if(c.add(),B.current=xe(document,"keydown",ue),q.current=xe(document,"focus",()=>setTimeout(ce),!0),C&&C(),O){var d,re;const Y=fe((d=(re=c.dialog)==null?void 0:re.ownerDocument)!=null?d:w==null?void 0:w.document);c.dialog&&Y&&!Me(c.dialog,Y)&&(y.current=Y,c.dialog.focus())}}),z=b(()=>{if(c.remove(),B.current==null||B.current(),q.current==null||q.current(),T){var d;(d=y.current)==null||d.focus==null||d.focus(H),y.current=null}});a.useEffect(()=>{!n||!S||M()},[n,S,M]),a.useEffect(()=>{N&&z()},[N,z]),Se(()=>{z()});const ce=b(()=>{if(!_||!de()||!c.isTopModal())return;const d=fe(w==null?void 0:w.document);c.dialog&&d&&!Me(c.dialog,d)&&c.dialog.focus()}),ne=b(d=>{d.target===d.currentTarget&&(f==null||f(d),g===!0&&U())}),ue=b(d=>{u&&at(d)&&c.isTopModal()&&(m==null||m(d),d.defaultPrevented||U())}),q=a.useRef(),B=a.useRef(),oe=(...d)=>{A(!0),V==null||V(...d)};if(!S)return null;const L=Object.assign({role:o,ref:c.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},le,{style:s,className:r,tabIndex:-1});let X=j?j(L):l.jsx("div",Object.assign({},L,{children:a.cloneElement(h,{role:"document"})}));X=Oe(v,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:ie,onExiting:Q,onExited:oe,onEnter:Z,onEntering:P,onEntered:ee,children:X});let D=null;return g&&(D=K({ref:c.setBackdropRef,onClick:ne}),D=Oe(R,E,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:D})),l.jsx(l.Fragment,{children:Xe.createPortal(l.jsxs(l.Fragment,{children:[D,X]}),S)})});Be.displayName="Modal";const Rt=Object.assign(Be,{Manager:ve});function bt(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Tt(e,t){e.classList?e.classList.add(t):bt(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function je(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function xt(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=je(e.className,t):e.setAttribute("class",je(e.className&&e.className.baseVal||"",t))}const W={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Ct extends ve{adjustAndStore(t,n,o){const r=n.style[t];n.dataset[t]=r,J(n,{[t]:`${parseFloat(J(n,t))+o}px`})}restore(t,n){const o=n.dataset[t];o!==void 0&&(delete n.dataset[t],J(n,{[t]:o}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Tt(n,"modal-open"),!t.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";I(n,W.FIXED_CONTENT).forEach(s=>this.adjustAndStore(o,s,t.scrollBarWidth)),I(n,W.STICKY_CONTENT).forEach(s=>this.adjustAndStore(r,s,-t.scrollBarWidth)),I(n,W.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(r,s,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();xt(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";I(n,W.FIXED_CONTENT).forEach(s=>this.restore(o,s)),I(n,W.STICKY_CONTENT).forEach(s=>this.restore(r,s)),I(n,W.NAVBAR_TOGGLER).forEach(s=>this.restore(r,s))}}let me;function wt(e){return me||(me=new Ct(e)),me}const Le=a.forwardRef(({className:e,bsPrefix:t,as:n="div",...o},r)=>(t=$(t,"modal-body"),l.jsx(n,{ref:r,className:k(e,t),...o})));Le.displayName="ModalBody";const De=a.createContext({onHide(){}}),Re=a.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:o,size:r,fullscreen:s,children:h,scrollable:g,...u},f)=>{e=$(e,"modal");const m=`${e}-dialog`,v=typeof s=="string"?`${e}-fullscreen-${s}`:`${e}-fullscreen`;return l.jsx("div",{...u,ref:f,className:k(m,t,r&&`${e}-${r}`,o&&`${m}-centered`,g&&`${m}-scrollable`,s&&v),children:l.jsx("div",{className:k(`${e}-content`,n),children:h})})});Re.displayName="ModalDialog";const Fe=a.forwardRef(({className:e,bsPrefix:t,as:n="div",...o},r)=>(t=$(t,"modal-footer"),l.jsx(n,{ref:r,className:k(e,t),...o})));Fe.displayName="ModalFooter";const Mt=a.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:o,children:r,...s},h)=>{const g=a.useContext(De),u=b(()=>{g==null||g.onHide(),o==null||o()});return l.jsxs("div",{ref:h,...s,children:[r,n&&l.jsx(Ye,{"aria-label":e,variant:t,onClick:u})]})}),Ie=a.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:o=!1,...r},s)=>(e=$(e,"modal-header"),l.jsx(Mt,{ref:s,...r,className:k(t,e),closeLabel:n,closeButton:o})));Ie.displayName="ModalHeader";const kt=ot("h4"),We=a.forwardRef(({className:e,bsPrefix:t,as:n=kt,...o},r)=>(t=$(t,"modal-title"),l.jsx(n,{ref:r,className:k(e,t),...o})));We.displayName="ModalTitle";function Nt(e){return l.jsx(Ae,{...e,timeout:null})}function Ot(e){return l.jsx(Ae,{...e,timeout:null})}const $e=a.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:o,contentClassName:r,children:s,dialogAs:h=Re,"data-bs-theme":g,"aria-labelledby":u,"aria-describedby":f,"aria-label":m,show:v=!1,animation:p=!0,backdrop:R=!0,keyboard:E=!0,onEscapeKeyDown:O,onShow:_,onHide:T,container:H,autoFocus:j=!0,enforceFocus:K=!0,restoreFocus:G=!0,restoreFocusOptions:x,onEntered:C,onExit:U,onExiting:ie,onEnter:V,onEntering:Q,onExited:Z,backdropClassName:P,manager:ee,...le},w)=>{const[S,c]=a.useState({}),[de,te]=a.useState(!1),N=a.useRef(!1),A=a.useRef(!1),y=a.useRef(null),[M,z]=et(),ce=Ee(w,z),ne=b(T),ue=Je();e=$(e,"modal");const q=a.useMemo(()=>({onHide:ne}),[ne]);function B(){return ee||wt({isRTL:ue})}function oe(i){if(!ae)return;const F=B().getScrollbarWidth()>0,Te=i.scrollHeight>pe(i).documentElement.clientHeight;c({paddingRight:F&&!Te?ke():void 0,paddingLeft:!F&&Te?ke():void 0})}const L=b(()=>{M&&oe(M.dialog)});Se(()=>{Ce(window,"resize",L),y.current==null||y.current()});const X=()=>{N.current=!0},D=i=>{N.current&&M&&i.target===M.dialog&&(A.current=!0),N.current=!1},d=()=>{te(!0),y.current=Ze(M.dialog,()=>{te(!1)})},re=i=>{i.target===i.currentTarget&&d()},Y=i=>{if(R==="static"){re(i);return}if(A.current||i.target!==i.currentTarget){A.current=!1;return}T==null||T()},_e=i=>{E?O==null||O(i):(i.preventDefault(),R==="static"&&d())},He=(i,F)=>{i&&oe(i),V==null||V(i,F)},Ke=i=>{y.current==null||y.current(),U==null||U(i)},Ge=(i,F)=>{Q==null||Q(i,F),Qe(window,"resize",L)},Ue=i=>{i&&(i.style.display=""),Z==null||Z(i),Ce(window,"resize",L)},Ve=a.useCallback(i=>l.jsx("div",{...i,className:k(`${e}-backdrop`,P,!p&&"show")}),[p,P,e]),be={...n,...S};be.display="block";const ze=i=>l.jsx("div",{role:"dialog",...i,style:be,className:k(t,e,de&&`${e}-static`,!p&&"show"),onClick:R?Y:void 0,onMouseUp:D,"data-bs-theme":g,"aria-label":m,"aria-labelledby":u,"aria-describedby":f,children:l.jsx(h,{...le,onMouseDown:X,className:o,contentClassName:r,children:s})});return l.jsx(De.Provider,{value:q,children:l.jsx(Rt,{show:v,ref:ce,backdrop:R,container:H,keyboard:!0,autoFocus:j,enforceFocus:K,restoreFocus:G,restoreFocusOptions:x,onEscapeKeyDown:_e,onShow:_,onHide:T,onEnter:He,onEntering:Ge,onEntered:C,onExit:Ke,onExiting:ie,onExited:Ue,manager:B(),transition:p?Nt:void 0,backdropTransition:p?Ot:void 0,renderBackdrop:Ve,renderDialog:ze})})});$e.displayName="Modal";const Dt=Object.assign($e,{Body:Le,Header:Ie,Title:We,Footer:Fe,Dialog:Re,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{Dt as M};
