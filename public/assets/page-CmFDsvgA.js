import{r as l,j as s,R as f,C as d,o as n,an as c}from"./index-CcXmhF8I.js";import{P as b}from"./PageMetaData-_VBvv3yh.js";import{c as N,a as w,u as y,o as S}from"./index.esm-D6U-v1G7.js";import{T as R}from"./TextFormInput-QQfG7VBx.js";import{I as E}from"./IconifyIcon-DvcQp4Ra.js";import{a as P}from"./index-xsH4HHeE.js";import{B as v}from"./urls-BhGeBsON.js";import{l as F}from"./jpo-Ci11ADWT.js";import{C}from"./Card-BbEwloSO.js";import"./FormControl-IaSihKBy.js";import"./FormLabel-ur_7HqrZ.js";import"./FormGroup-D9ifnLaV.js";import"./divWithClassName-stAqo3H6.js";const I=()=>{const[e,r]=l.useState(!1),[a,t]=l.useState({success:!1,message:""}),u=N({email:w().email("Enter a valid email").required("Email is required")}),{control:x,handleSubmit:p,reset:h}=y({resolver:S(u),defaultValues:{email:""}}),g=async j=>{var o,m;r(!0),t({success:!1,message:""});try{const i=await P.post(`${v}/users/forgot-password`,{email:j.email});t({success:!0,message:"Password reset instructions have been sent to your email."}),h()}catch(i){t({success:!1,message:((m=(o=i.response)==null?void 0:o.data)==null?void 0:m.message)||"Failed to send reset instructions. Please try again."})}finally{r(!1)}};return s.jsxs("form",{onSubmit:p(g),className:"p-3",children:[a.message&&s.jsx("div",{className:`alert ${a.success?"alert-success":"alert-danger"} mb-3`,children:a.message}),s.jsx(R,{control:x,name:"email",label:"Email",placeholder:"Enter your email",containerClassName:"form-group mb-2",disabled:e}),s.jsx(f,{className:"form-group mb-0",children:s.jsx(d,{xs:12,children:s.jsx("div",{className:"d-grid mt-3",children:s.jsx("button",{className:"btn btn-primary flex-centered",type:"submit",disabled:e,children:e?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Sending..."]}):s.jsxs(s.Fragment,{children:["Reset ",s.jsx(E,{icon:"fa6-solid:right-to-bracket",className:"ms-1"})]})})})})})]})},G=()=>s.jsxs(s.Fragment,{children:[s.jsx(b,{title:"Reset Password"}),s.jsx(d,{lg:4,className:"mx-auto",children:s.jsxs(C,{children:[s.jsx(n,{className:"p-0 bg-black auth-header-box rounded-top",children:s.jsxs("div",{className:"text-center p-3",children:[s.jsx(c,{to:"/",className:"logo logo-admin",children:s.jsx("img",{src:F,height:50,alt:"logo",className:"auth-logo"})}),s.jsx("h4",{className:"mt-3 mb-1 fw-semibold text-white fs-18",children:"Reset Password"}),s.jsx("p",{className:"text-muted fw-medium mb-0",children:"Enter your Email and instructions will be sent to you!"})]})}),s.jsxs(n,{className:"pt-0",children:[s.jsx(I,{}),s.jsx("div",{className:"text-center  mb-2",children:s.jsxs("p",{className:"text-muted",children:["Remember It ?"," ",s.jsx(c,{to:"/auth/login",className:"text-primary ms-2",children:"Sign in here"})]})})]})]})})]});export{G as default};
