import{r as p,b as f,a as S,ab as b,j as e,R as n,C as a}from"./index-CEbbE1Sf.js";import{C as w}from"./ComponentContainerCard-BpYspYtC.js";import{P as v}from"./PageMetaData-qE4R9bbS.js";import{B as i}from"./urls-CvG9cD6N.js";import{D as P}from"./DetailPage-BmmTo0qa.js";import{I as m}from"./Image-ULHo9GWi.js";import"./Card-mt6mV6AB.js";import"./divWithClassName-CT9nWrpT.js";import"./Button-CWQV4UHt.js";import"./FormLabel-WQTNbj7P.js";import"./FormContext-CSwRqVJr.js";import"./Modal-C5567GrF.js";import"./useWindow-Bj2vCJZa.js";import"./useEventCallback-C6szz9nn.js";import"./DataKey-COGXBUcQ.js";import"./NoopTransition-PrPCoCM2.js";const L=()=>{const[r,h]=p.useState(null),{signatureId:t,companyId:d,projectId:c}=f(),u=S(),[g]=b(),o=g.get("report");p.useEffect(()=>{t&&fetch(`${i}/get-signature-detail/${t}`).then(async s=>{const l=await s.json(),{_id:y,...$}=l;h($)}).catch(s=>console.error(s))},[t]);const x=()=>{const s=o?`/dashboard/companies/view/${d}/projects/view/${c}/signatures/edit/${t}?report=${o}`:`/dashboard/companies/view/${d}/projects/view/${c}/signatures/edit/${t}`;u(s)},j=async()=>{try{const s=await fetch(`${i}/delete-signature/${t}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(s.ok){const l=o?`/dashboard/projects?report=${o}`:`/dashboard/companies/view/${d}/projects/view/${c}/signatures`;u(l)}else console.error("Error:",s.statusText)}catch(s){console.error("Fetch error:",s)}};return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:"View Signature"}),e.jsx(n,{className:"justify-content-center",children:e.jsx(a,{lg:"12",children:e.jsxs(w,{title:"View Signature",children:[e.jsx(n,{children:e.jsx(P,{data:r,handleEdit:x,handleDelete:j})}),r&&e.jsx(n,{className:"mt-4",children:e.jsxs(a,{lg:"12",children:[e.jsx("h5",{children:"Signatures"}),e.jsxs(n,{children:[r.signature1&&e.jsx(a,{lg:"4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("h6",{children:"Person 1 Signature"}),e.jsx(m,{src:`${i}/uploads/${r.signature1}`,alt:"Signature 1",fluid:!0,style:{maxWidth:"100%",maxHeight:"200px",border:"1px solid #ddd"}})]})}),r.signature2&&e.jsx(a,{lg:"4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("h6",{children:"Person 2 Signature"}),e.jsx(m,{src:`${i}/uploads/${r.signature2}`,alt:"Signature 2",fluid:!0,style:{maxWidth:"100%",maxHeight:"200px",border:"1px solid #ddd"}})]})}),r.signature3&&e.jsx(a,{lg:"4",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("h6",{children:"Person 3 Signature"}),e.jsx(m,{src:`${i}/uploads/${r.signature3}`,alt:"Signature 3",fluid:!0,style:{maxWidth:"100%",maxHeight:"200px",border:"1px solid #ddd"}})]})})]})]})})]})})})]})};export{L as default};
