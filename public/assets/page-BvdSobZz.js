import{N as G,O as W,r as b,S as _,j as n,U as v,n as E,V as f,Q as q,W as F,Z as ot,a2 as pt,X as Y,ao as dt,ap as ut,R as ht,C as mt,a as gt,u as bt,G as ft}from"./index-CEbbE1Sf.js";import{P as yt}from"./PageMetaData-qE4R9bbS.js";import{C as wt}from"./ComponentContainerCard-BpYspYtC.js";import{R as St}from"./index-CQzRielJ.js";import{B as at}from"./urls-CvG9cD6N.js";import{B as vt}from"./Button-CWQV4UHt.js";import{k as xt,u as Ct,f as K,e as A,B as kt,g as st}from"./useFormControl-BPpZZpE7.js";import{S as Pt}from"./Spinner-CpDb3BPV.js";import{A as $t}from"./Alert-DHIJxZou.js";import"./Card-mt6mV6AB.js";import"./divWithClassName-CT9nWrpT.js";import"./IconifyIcon-D36SGIkR.js";import"./index-DvVNbEmp.js";import"./Table-COGAYasz.js";import"./Modal-C5567GrF.js";import"./useWindow-Bj2vCJZa.js";import"./useEventCallback-C6szz9nn.js";import"./DataKey-COGXBUcQ.js";import"./NoopTransition-PrPCoCM2.js";import"./assertThisInitialized-B9jnkVVz.js";import"./hook-CyH9mnqt.js";import"./Anchor-BXgEd0Ob.js";function Bt(t){return G("MuiTypography",t)}W("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Rt={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},jt=xt(),Ft=t=>{const{align:e,gutterBottom:o,noWrap:a,paragraph:i,variant:s,classes:r}=t,c={root:["root",s,t.align!=="inherit"&&`align${f(e)}`,o&&"gutterBottom",a&&"noWrap",i&&"paragraph"]};return q(c,Bt,r)},Tt=v("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.variant&&e[o.variant],o.align!=="inherit"&&e[`align${f(o.align)}`],o.noWrap&&e.noWrap,o.gutterBottom&&e.gutterBottom,o.paragraph&&e.paragraph]}})(F(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([o,a])=>o!=="inherit"&&a&&typeof a=="object").map(([o,a])=>({props:{variant:o},style:a})),...Object.entries(t.palette).filter(ot()).map(([o])=>({props:{color:o},style:{color:(t.vars||t).palette[o].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,o])=>typeof o=="string").map(([o])=>({props:{color:`text${f(o)}`},style:{color:(t.vars||t).palette.text[o]}})),{props:({ownerState:o})=>o.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:o})=>o.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:o})=>o.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:o})=>o.paragraph,style:{marginBottom:16}}]}})),tt={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},et=b.forwardRef(function(e,o){const{color:a,...i}=_({props:e,name:"MuiTypography"}),s=!Rt[a],r=jt({...i,...s&&{color:a}}),{align:c="inherit",className:h,component:d,gutterBottom:p=!1,noWrap:w=!1,paragraph:u=!1,variant:g="body1",variantMapping:x=tt,...C}=r,k={...r,align:c,color:a,className:h,component:d,gutterBottom:p,noWrap:w,paragraph:u,variant:g,variantMapping:x},$=d||(u?"p":x[g]||tt[g])||"span",T=Ft(k);return n.jsx(Tt,{as:$,ref:o,className:E(T.root,h),...C,ownerState:k,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...C.style}})});function Mt(t){return G("PrivateSwitchBase",t)}W("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Lt=t=>{const{classes:e,checked:o,disabled:a,edge:i}=t,s={root:["root",o&&"checked",a&&"disabled",i&&`edge${f(i)}`],input:["input"]};return q(s,Mt,e)},zt=v(kt,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),Nt=v("input",{name:"MuiSwitchBase",shouldForwardProp:pt})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Dt=b.forwardRef(function(e,o){const{autoFocus:a,checked:i,checkedIcon:s,defaultChecked:r,disabled:c,disableFocusRipple:h=!1,edge:d=!1,icon:p,id:w,inputProps:u,inputRef:g,name:x,onBlur:C,onChange:k,onFocus:$,readOnly:T,required:M=!1,tabIndex:B,type:P,value:L,slots:V={},slotProps:X={},...z}=e,[N,H]=Ct({controlled:i,default:!!r,name:"SwitchBase",state:"checked"}),S=K(),D=l=>{$&&$(l),S&&S.onFocus&&S.onFocus(l)},R=l=>{C&&C(l),S&&S.onBlur&&S.onBlur(l)},U=l=>{if(l.nativeEvent.defaultPrevented)return;const y=l.target.checked;H(y),k&&k(l,y)};let I=c;S&&typeof I>"u"&&(I=S.disabled);const rt=P==="checkbox"||P==="radio",J={...e,checked:N,disabled:I,disableFocusRipple:h,edge:d},Q=Lt(J),Z={slots:V,slotProps:{input:u,...X}},[nt,it]=A("root",{ref:o,elementType:zt,className:Q.root,shouldForwardComponentProp:!0,externalForwardedProps:{...Z,component:"span",...z},getSlotProps:l=>({...l,onFocus:y=>{var j;(j=l.onFocus)==null||j.call(l,y),D(y)},onBlur:y=>{var j;(j=l.onBlur)==null||j.call(l,y),R(y)}}),ownerState:J,additionalProps:{centerRipple:!0,focusRipple:!h,disabled:I,role:void 0,tabIndex:null}}),[lt,ct]=A("input",{ref:g,elementType:Nt,className:Q.input,externalForwardedProps:Z,getSlotProps:l=>({...l,onChange:y=>{var j;(j=l.onChange)==null||j.call(l,y),U(y)}}),ownerState:J,additionalProps:{autoFocus:a,checked:i,defaultChecked:r,disabled:I,id:rt?w:void 0,name:x,readOnly:T,required:M,tabIndex:B,type:P,...P==="checkbox"&&L===void 0?{}:{value:L}}});return n.jsxs(nt,{...it,children:[n.jsx(lt,{...ct}),N?s:p]})});function Ut(t){return G("MuiFormControlLabel",t)}const O=W("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),At=t=>{const{classes:e,disabled:o,labelPlacement:a,error:i,required:s}=t,r={root:["root",o&&"disabled",`labelPlacement${f(a)}`,i&&"error",s&&"required"],label:["label",o&&"disabled"],asterisk:["asterisk",i&&"error"]};return q(r,Ut,e)},It=v("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{[`& .${O.label}`]:e.label},e.root,e[`labelPlacement${f(o.labelPlacement)}`]]}})(F(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${O.disabled}`]:{cursor:"default"},[`& .${O.label}`]:{[`&.${O.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),Ot=v("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(F(({theme:t})=>({[`&.${O.error}`]:{color:(t.vars||t).palette.error.main}}))),Et=b.forwardRef(function(e,o){const a=_({props:e,name:"MuiFormControlLabel"}),{checked:i,className:s,componentsProps:r={},control:c,disabled:h,disableTypography:d,inputRef:p,label:w,labelPlacement:u="end",name:g,onChange:x,required:C,slots:k={},slotProps:$={},value:T,...M}=a,B=K(),P=h??c.props.disabled??(B==null?void 0:B.disabled),L=C??c.props.required,V={disabled:P,required:L};["checked","name","onChange","value","inputRef"].forEach(U=>{typeof c.props[U]>"u"&&typeof a[U]<"u"&&(V[U]=a[U])});const X=st({props:a,muiFormControl:B,states:["error"]}),z={...a,disabled:P,labelPlacement:u,required:L,error:X.error},N=At(z),H={slots:k,slotProps:{...r,...$}},[S,D]=A("typography",{elementType:et,externalForwardedProps:H,ownerState:z});let R=w;return R!=null&&R.type!==et&&!d&&(R=n.jsx(S,{component:"span",...D,className:E(N.label,D==null?void 0:D.className),children:R})),n.jsxs(It,{className:E(N.root,s),ownerState:z,ref:o,...M,children:[b.cloneElement(c,V),L?n.jsxs("div",{children:[R,n.jsxs(Ot,{ownerState:z,"aria-hidden":!0,className:N.asterisk,children:["â€‰","*"]})]}):R]})});function Gt(t){return G("MuiFormGroup",t)}W("MuiFormGroup",["root","row","error"]);const Wt=t=>{const{classes:e,row:o,error:a}=t;return q({root:["root",o&&"row",a&&"error"]},Gt,e)},qt=v("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),Vt=b.forwardRef(function(e,o){const a=_({props:e,name:"MuiFormGroup"}),{className:i,row:s=!1,...r}=a,c=K(),h=st({props:a,muiFormControl:c,states:["error"]}),d={...a,row:s,error:h.error},p=Wt(d);return n.jsx(qt,{className:E(p.root,i),ownerState:d,ref:o,...r})});function _t(t){return G("MuiSwitch",t)}const m=W("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Xt=t=>{const{classes:e,edge:o,size:a,color:i,checked:s,disabled:r}=t,c={root:["root",o&&`edge${f(o)}`,`size${f(a)}`],switchBase:["switchBase",`color${f(i)}`,s&&"checked",r&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},h=q(c,_t,e);return{...e,...h}},Ht=v("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.edge&&e[`edge${f(o.edge)}`],e[`size${f(o.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${m.thumb}`]:{width:16,height:16},[`& .${m.switchBase}`]:{padding:4,[`&.${m.checked}`]:{transform:"translateX(16px)"}}}}]}),Jt=v(Dt,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.switchBase,{[`& .${m.input}`]:e.input},o.color!=="default"&&e[`color${f(o.color)}`]]}})(F(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${m.checked}`]:{transform:"translateX(20px)"},[`&.${m.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${m.checked} + .${m.track}`]:{opacity:.5},[`&.${m.disabled} + .${m.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${m.input}`]:{left:"-100%",width:"300%"}})),F(({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Y(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(ot(["light"])).map(([e])=>({props:{color:e},style:{[`&.${m.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Y(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${m.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?dt(t.palette[e].main,.62):ut(t.palette[e].main,.55)}`}},[`&.${m.checked} + .${m.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),Kt=v("span",{name:"MuiSwitch",slot:"Track"})(F(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),Qt=v("span",{name:"MuiSwitch",slot:"Thumb"})(F(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),Zt=b.forwardRef(function(e,o){const a=_({props:e,name:"MuiSwitch"}),{className:i,color:s="primary",edge:r=!1,size:c="medium",sx:h,slots:d={},slotProps:p={},...w}=a,u={...a,color:s,edge:r,size:c},g=Xt(u),x={slots:d,slotProps:p},[C,k]=A("root",{className:E(g.root,i),elementType:Ht,externalForwardedProps:x,ownerState:u,additionalProps:{sx:h}}),[$,T]=A("thumb",{className:g.thumb,elementType:Qt,externalForwardedProps:x,ownerState:u}),M=n.jsx($,{...T}),[B,P]=A("track",{className:g.track,elementType:Kt,externalForwardedProps:x,ownerState:u});return n.jsxs(C,{...k,children:[n.jsx(Jt,{type:"checkbox",icon:M,checkedIcon:M,ref:o,ownerState:u,...w,classes:{...g,root:g.switchBase},slots:{...d.switchBase&&{root:d.switchBase},...d.input&&{input:d.input}},slotProps:{...p.switchBase&&{root:typeof p.switchBase=="function"?p.switchBase(u):p.switchBase},...p.input&&{input:typeof p.input=="function"?p.input(u):p.input}}}),n.jsx(B,{...P})]})}),Yt=({company:t,refreshData:e})=>{const[o,a]=b.useState(!1),i=async s=>{a(!0);try{const r=await fetch(`${at}/update-company-status/${t._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})});r.ok?(await r.json(),e()):console.error("Error updating status:",r.statusText)}catch(r){console.error("Error in status update:",r)}a(!1)};return n.jsx(Vt,{children:n.jsx(Et,{control:n.jsx(Zt,{checked:t.status==="activate",onChange:()=>i(t.status==="activate"?"deactivate":"activate"),disabled:o}),label:o?n.jsx(Pt,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):t.status==="activate"?"Activated ":"Deactivated"})})},te=({companies:t,refreshData:e})=>{const o=[2,5,10,20,50],a=gt(),i=[{header:"Name",accessorKey:"name"},{header:"Status",cell:({row:s})=>n.jsx(Yt,{company:s.original,refreshData:e})},{header:"View Details",cell:({row:s})=>n.jsx(vt,{variant:"info",className:"me-2",onClick:()=>{var r;a(`/dashboard/generalFlowCompanies/view/${(r=s==null?void 0:s.original)==null?void 0:r._id}`)},children:"View Details"})}];return n.jsx(wt,{title:"Companies",addUrl:"/dashboard/generalFlowCompanies/add",children:n.jsx(St,{url:"get-companies",refreshData:e,columns:i,data:t,rowsPerPageList:o,pageSize:10,tableClass:"datatable",theadClass:"table-light",showPagination:!0,searchable:!0})})},ee=({companies:t,refreshData:e})=>n.jsx(ht,{className:"justify-content-center",children:n.jsx(mt,{xs:12,children:n.jsx(te,{companies:t,refreshData:e})})}),ke=()=>{var w;const[t,e]=b.useState([]),[o,a]=b.useState(!1),i=bt(),[s,r]=b.useState(((w=i.state)==null?void 0:w.success)||""),{setSelectedCompany:c,setSelectedCompanyDetailPageTab:h,setSelectedProjectDetailPageTab:d}=b.useContext(ft),p=async()=>{a(!0);try{const g=await(await fetch(`${at}/get-companies`)).json();e(g)}catch(u){console.error(u)}finally{a(!1)}};return b.useEffect(()=>{p(),c(null),h("profession"),d("reports")},[]),n.jsxs(n.Fragment,{children:[s&&n.jsx($t,{variant:"success",dismissible:!0,onClose:()=>r(""),children:s}),n.jsx(yt,{title:"Data Tables"}),t&&!o&&n.jsx(ee,{refreshData:p,companies:t})]})};export{ke as default};
