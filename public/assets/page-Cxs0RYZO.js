import{b as j,r as i,c as u,j as e,R as x,C as f,G as g}from"./index-DXGzwTDX.js";import{C as N}from"./ComponentContainerCard-BdqSoKWJ.js";import{U as v}from"./UsersTab-Bg7tggip.js";import{B as b}from"./urls-BhGeBsON.js";import{A as C}from"./AllDataTables-C3REasXa.js";import{A as w}from"./AllDataTables-lrPyjue2.js";import{P}from"./PageMetaData-DqMiWj9r.js";import{N as h}from"./Nav-DIm866Ws.js";import"./Card-BF03U0a9.js";import"./divWithClassName-WthjuUgX.js";import"./Button-Q8P5klcO.js";import"./AllDataTables-CFuTbJ3v.js";import"./index-DnQfOP5A.js";import"./IconifyIcon-d0gjGKAl.js";import"./Modal-pNXPnpNb.js";import"./useWindow-D1WaCGvc.js";import"./DataKey-DeFhA7Nw.js";import"./NoopTransition-CDGbDsLX.js";import"./AllDataTables-ocV1Xwg2.js";import"./menu-CizQmjW5.js";import"./AllDataTables-IDvf2gFg.js";import"./AllDataTables-woZFmAPj.js";import"./AllDataTables-Cv9BfeDR.js";import"./AllDataTables-DxA_lrmR.js";import"./AllDataTables-FZ7hWfpT.js";import"./AllDataTables-C0O_avuw.js";import"./Anchor-OB-3XvKs.js";import"./NavbarContext-BmG30VpY.js";const T=()=>{const{companyId:l}=j(),[s,m]=i.useState([]),[t,c]=i.useState(""),{setLoading:a}=u(),r=async()=>{try{a(!0);const p=await(await fetch(`${b}/get-projects?companyId=${l}`)).json();m(p),a(!1)}catch(o){console.error("Error fetching workers:",o)}};return i.useEffect(()=>{r()},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:"Projects"}),e.jsx("p",{className:"text-muted mb-0",children:"All Project list is listed below"})]}),e.jsx("div",{className:"d-flex align-items-center",children:e.jsxs("div",{className:"d-flex align-items-center me-3",children:[e.jsx("label",{htmlFor:"tradeType",className:"text-nowrap me-2 mb-0",children:"Search"}),e.jsx("input",{type:"text",id:"tradeType",className:"form-control",value:t,onChange:o=>c(o.target.value),placeholder:"Search by project name"})]})})]}),e.jsx("hr",{className:"my-3"}),e.jsx(x,{children:e.jsx(f,{md:12,children:e.jsx(C,{refreshData:r,projects:s,globalFilter:t})})})]})},S=()=>{const{companyId:l}=j(),[s,m]=i.useState([]),[t,c]=i.useState(""),a=async()=>{try{const o=await(await fetch(`${b}/get-company-professions?companyId=${l}`)).json();m(o)}catch(r){console.error("Error fetching workers:",r)}};return i.useEffect(()=>{a()},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:"Professions"}),e.jsx("p",{className:"text-muted mb-0",children:"All Professions list is listed below"})]}),e.jsx("div",{className:"d-flex align-items-center",children:e.jsxs("div",{className:"d-flex align-items-center me-3",children:[e.jsx("label",{htmlFor:"tradeType",className:"text-nowrap me-2 mb-0",children:"Search"}),e.jsx("input",{type:"text",id:"tradeType",className:"form-control",value:t,onChange:r=>c(r.target.value),placeholder:"Search by professions name"})]})})]}),e.jsx("hr",{className:"my-3"}),e.jsx(x,{children:e.jsx(f,{md:12,children:e.jsx(w,{refreshData:a,professions:s,globalFilter:t})})})]})},te=()=>{const{setLoading:l}=u(),[s,m]=i.useState(null),{companyId:t}=j(),{setSelectedCompany:c,selectedCompanyDetailPageTab:a,setSelectedCompanyDetailPageTab:r}=i.useContext(g),o=[{id:"profession",label:"Profession",content:e.jsx(S,{})},{id:"users",label:"Users",content:e.jsx(v,{})},{id:"projects",label:"Projects",content:e.jsx(T,{})}];i.useEffect(()=>{(async()=>{if(t){l(!0),c(t);try{const y=await(await fetch(`${b}/get-company-detail/${t}`)).json();m(y)}catch(d){console.error("Error fetching company details:",d)}finally{l(!1)}}})()},[t,c]);const p=()=>{const n=o.find(d=>d.id===a);return n?n.content:null};return e.jsxs(e.Fragment,{children:[e.jsx(P,{title:(s==null?void 0:s.name)||"Company Details"}),e.jsx(x,{className:"justify-content-center",children:e.jsx(f,{lg:"12",children:e.jsxs(N,{title:(s==null?void 0:s.name)||"Companies Name",children:[e.jsx(h,{variant:"tabs",className:"custom-tabs mb-3",children:o.map(n=>e.jsx(h.Item,{children:e.jsx(h.Link,{active:a===n.id,onClick:()=>r(n.id),className:a===n.id?"fw-bold":"",children:n.label})},n.id))}),e.jsx("div",{className:"tab-content",children:e.jsx("div",{className:"tab-pane fade show active",children:p()})})]})})})]})};export{te as default};
