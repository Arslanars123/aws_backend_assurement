import{r as m,b as y,j as s,R as r,C as a}from"./index-CcXmhF8I.js";import{C}from"./ComponentContainerCard-DfOGF2MZ.js";import{P as k}from"./PageMetaData-_VBvv3yh.js";import{B as t}from"./urls-BhGeBsON.js";import{P as S}from"./page-COk_T7aE.js";import{F as c}from"./FormLabel-ur_7HqrZ.js";import{B as o}from"./Button-Bb5NLKr0.js";import{I as v}from"./Image-BA0SNZ1J.js";import"./Card-BbEwloSO.js";import"./divWithClassName-stAqo3H6.js";import"./Modal-DS3RX9z9.js";import"./useWindow-Dt3mh2_H.js";import"./DataKey-SibGzzBh.js";import"./NoopTransition-C0OklqXl.js";import"./FormRange-CQhrKEDN.js";import"./PDFButton-ck9OA1nG.js";const J=()=>{var f,p,g,N,u,b,$;const[D,x]=m.useState(!1),[e,P]=m.useState(null),{newId:n}=y(),[h,j]=m.useState({show:!1,pdfFile:null,name:null}),[F,I]=m.useState({});m.useEffect(()=>{n&&(x(!0),fetch(`${t}/get-new-detail/${n}`).then(async l=>{const i=await l.json();P(i)}).catch(l=>console.error(l)).finally(()=>x(!1)))},[n]);const d=(l,i)=>{j({show:!0,pdfFile:l,name:i})};return s.jsxs(s.Fragment,{children:[s.jsx(k,{title:"Agreement"}),D?null:s.jsx(r,{className:"justify-content-center",children:s.jsx(a,{lg:"12",children:s.jsx(C,{title:"View Agreement",children:s.jsxs(r,{children:[s.jsx(a,{lg:"6",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(c,{className:"col-sm-3 col-form-label text-end",children:"Item"}),s.jsx(a,{sm:"9",className:"d-flex align-items-center",children:e==null?void 0:e.item})]})}),s.jsx(a,{lg:"6",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(c,{className:"col-sm-3 col-form-label text-end",children:"Extra info"}),s.jsx(a,{sm:"9",className:"d-flex align-items-center",children:e==null?void 0:e.supplementory})]})}),s.jsx(a,{lg:"6",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(c,{className:"col-sm-3 col-form-label text-end",children:"Time"}),s.jsx(a,{sm:"9",className:"d-flex align-items-center",children:e==null?void 0:e.time})]})}),s.jsx(a,{lg:"6",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(c,{className:"col-sm-3 col-form-label text-end",children:"Discipline"}),s.jsx(a,{sm:"9",className:"d-flex align-items-center",children:e==null?void 0:e.discipline})]})}),s.jsx(a,{lg:"6",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(c,{className:"col-sm-3 col-form-label text-end",children:"Drawing"}),s.jsx(a,{sm:"9",className:"d-flex align-items-center",children:(f=e==null?void 0:e.drawing)==null?void 0:f.name})]})}),s.jsx(a,{lg:"12",children:s.jsxs(r,{className:"mb-2",children:[s.jsx(c,{className:"col-sm-2 col-form-label text-end",children:"Main Drawings"}),s.jsx(a,{sm:"10",children:(g=(p=e==null?void 0:e.drawing)==null?void 0:p.mainDrawings)==null?void 0:g.map((l,i)=>s.jsxs("div",{className:"mb-2 d-flex align-items-center",children:[s.jsx(o,{variant:"link",className:"p-0 me-2",onClick:()=>d(`${t}/uploads/${l.stored}`,l.original),children:s.jsx("i",{className:"fas fa-file-pdf",style:{fontSize:"2rem",color:"#dc3545"}})}),s.jsx("div",{className:"small text-muted",children:l.original})]},i))})]})}),s.jsx(a,{lg:"12",children:s.jsxs(r,{className:"mb-2",children:[s.jsx(c,{className:"col-sm-2 col-form-label text-end",children:"Child Drawings"}),s.jsx(a,{sm:"10",children:(u=(N=e==null?void 0:e.drawing)==null?void 0:N.childDrawings)==null?void 0:u.map((l,i)=>s.jsxs("div",{className:"mb-2 d-flex align-items-center",children:[s.jsx(o,{variant:"link",className:"p-0 me-2",onClick:()=>d(`${t}/uploads/${l.stored}`,l.original),children:s.jsx("i",{className:"fas fa-file-pdf",style:{fontSize:"2rem",color:"#dc3545"}})}),s.jsx("div",{className:"small text-muted",children:l.original})]},i))})]})}),s.jsx(a,{lg:"12",children:s.jsxs(r,{className:"mb-2",children:[s.jsx(c,{className:"col-sm-2 col-form-label text-end",children:"Marked Drawings"}),s.jsx(a,{sm:"10",children:(b=e==null?void 0:e.annotatedPdfs)==null?void 0:b.map((l,i)=>s.jsxs("div",{className:"mb-2 d-flex align-items-center",children:[s.jsx(o,{variant:"link",className:"p-0 me-2",onClick:()=>d(`${t}/uploads/${l.filename}`,l.originalName),children:s.jsx("i",{className:"fas fa-file-pdf",style:{fontSize:"2rem",color:"#dc3545"}})}),s.jsx("div",{className:"small text-muted",children:l.originalName})]},i))})]})}),s.jsx(a,{lg:"12",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(c,{className:"col-sm-2 col-form-label text-end",children:"Pictures"}),s.jsx(a,{sm:"10",className:"d-flex flex-wrap",children:($=e==null?void 0:e.pictureObjects)==null?void 0:$.map((l,i)=>s.jsxs("div",{className:"me-3 mb-3 text-center",children:[s.jsx(v,{src:`${t}/uploads/${l.filename}`,alt:l.description,fluid:!0,rounded:!0,style:{maxWidth:"100px",maxHeight:"100px"}}),s.jsx("div",{children:l.description})]},i))})]})}),(e==null?void 0:e.pictures)&&e.pictures.length>0&&!e.pictureObjects&&s.jsx(a,{lg:"12",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(c,{className:"col-sm-2 col-form-label text-end",children:"Pictures"}),s.jsx(a,{sm:"10",className:"d-flex flex-wrap",children:e.pictures.map((l,i)=>s.jsx("div",{className:"me-3 mb-3 text-center",children:s.jsx(v,{src:`${t}/uploads/${l}`,alt:`Image ${i}`,fluid:!0,rounded:!0,style:{maxWidth:"100px",maxHeight:"100px"}})},`existing-${i}`))})]})})]})})})}),h.show&&s.jsx(S,{drawDotsOnPdf:h,setDrawDotsOnPdf:j,readOnly:!0})]})};export{J as default};
