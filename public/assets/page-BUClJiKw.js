import{b as j,r as i,c as u,j as e,R as x,C as f,G as g}from"./index-CF9SjLWQ.js";import{C as N}from"./ComponentContainerCard-n9fGDRyA.js";import{U as v}from"./UsersTab-Cxhs87PX.js";import{B as b}from"./urls-BhGeBsON.js";import{A as C}from"./AllDataTables-kyfMTGqr.js";import{A as w}from"./AllDataTables-Cv8sVUY5.js";import{P}from"./PageMetaData-B4Fb5zJ6.js";import{N as h}from"./Nav-BktnpgHo.js";import"./Card-Bx1F2r4C.js";import"./divWithClassName-13-QUwjt.js";import"./Button-UcXSk4np.js";import"./AllDataTables-B_CZMnAA.js";import"./index-BNhXYgbL.js";import"./IconifyIcon-zNjjR0-6.js";import"./Modal-CQeUVPXG.js";import"./useWindow-BQWBaX9C.js";import"./DataKey-KKZij2X9.js";import"./NoopTransition-BChfWke-.js";import"./AllDataTables-CH153l3q.js";import"./menu-CizQmjW5.js";import"./AllDataTables-DY7V3C4p.js";import"./AllDataTables-CvJG2y4M.js";import"./AllDataTables-3Dr_Z4an.js";import"./AllDataTables-OxKw5wi_.js";import"./AllDataTables-Cc3xj31I.js";import"./AllDataTables-BTxVh5VX.js";import"./Anchor-taqs8bUs.js";import"./NavbarContext-BG1KI6C5.js";const T=()=>{const{companyId:l}=j(),[s,m]=i.useState([]),[t,c]=i.useState(""),{setLoading:a}=u(),r=async()=>{try{a(!0);const p=await(await fetch(`${b}/get-projects?companyId=${l}`)).json();m(p),a(!1)}catch(o){console.error("Error fetching workers:",o)}};return i.useEffect(()=>{r()},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:"Projects"}),e.jsx("p",{className:"text-muted mb-0",children:"All Project list is listed below"})]}),e.jsx("div",{className:"d-flex align-items-center",children:e.jsxs("div",{className:"d-flex align-items-center me-3",children:[e.jsx("label",{htmlFor:"tradeType",className:"text-nowrap me-2 mb-0",children:"Search"}),e.jsx("input",{type:"text",id:"tradeType",className:"form-control",value:t,onChange:o=>c(o.target.value),placeholder:"Search by project name"})]})})]}),e.jsx("hr",{className:"my-3"}),e.jsx(x,{children:e.jsx(f,{md:12,children:e.jsx(C,{refreshData:r,projects:s,globalFilter:t})})})]})},S=()=>{const{companyId:l}=j(),[s,m]=i.useState([]),[t,c]=i.useState(""),a=async()=>{try{const o=await(await fetch(`${b}/get-company-professions?companyId=${l}`)).json();m(o)}catch(r){console.error("Error fetching workers:",r)}};return i.useEffect(()=>{a()},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:"Professions"}),e.jsx("p",{className:"text-muted mb-0",children:"All Professions list is listed below"})]}),e.jsx("div",{className:"d-flex align-items-center",children:e.jsxs("div",{className:"d-flex align-items-center me-3",children:[e.jsx("label",{htmlFor:"tradeType",className:"text-nowrap me-2 mb-0",children:"Search"}),e.jsx("input",{type:"text",id:"tradeType",className:"form-control",value:t,onChange:r=>c(r.target.value),placeholder:"Search by professions name"})]})})]}),e.jsx("hr",{className:"my-3"}),e.jsx(x,{children:e.jsx(f,{md:12,children:e.jsx(w,{refreshData:a,professions:s,globalFilter:t})})})]})},te=()=>{const{setLoading:l}=u(),[s,m]=i.useState(null),{companyId:t}=j(),{setSelectedCompany:c,selectedCompanyDetailPageTab:a,setSelectedCompanyDetailPageTab:r}=i.useContext(g),o=[{id:"profession",label:"Profession",content:e.jsx(S,{})},{id:"users",label:"Users",content:e.jsx(v,{})},{id:"projects",label:"Projects",content:e.jsx(T,{})}];i.useEffect(()=>{(async()=>{if(t){l(!0),c(t);try{const y=await(await fetch(`${b}/get-company-detail/${t}`)).json();m(y)}catch(d){console.error("Error fetching company details:",d)}finally{l(!1)}}})()},[t,c]);const p=()=>{const n=o.find(d=>d.id===a);return n?n.content:null};return e.jsxs(e.Fragment,{children:[e.jsx(P,{title:(s==null?void 0:s.name)||"Company Details"}),e.jsx(x,{className:"justify-content-center",children:e.jsx(f,{lg:"12",children:e.jsxs(N,{title:(s==null?void 0:s.name)||"Companies Name",children:[e.jsx(h,{variant:"tabs",className:"custom-tabs mb-3",children:o.map(n=>e.jsx(h.Item,{children:e.jsx(h.Link,{active:a===n.id,onClick:()=>r(n.id),className:a===n.id?"fw-bold":"",children:n.label})},n.id))}),e.jsx("div",{className:"tab-content",children:e.jsx("div",{className:"tab-pane fade show active",children:p()})})]})})})]})};export{te as default};
