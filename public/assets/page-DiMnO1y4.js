import{r as d,a as b,b as y,j as e,R as n,C as t}from"./index-CRUsPvgo.js";import{C as g}from"./ComponentContainerCard--Y8wSC_7.js";import{P as N}from"./PageMetaData-DH--1BrT.js";import{B as C}from"./urls-BhGeBsON.js";import{F as p}from"./FormLabel-BGcO0FaX.js";import{F as x}from"./FormControl-BDBioXn6.js";import{B as S}from"./Button-DJ2Vf-Um.js";import"./Card-Bhvh6y0G.js";import"./divWithClassName-C1rBczNJ.js";const v={name:"",description:""},$=()=>{const[r,u]=d.useState(v),[j,l]=d.useState(!1),h=b(),{companyId:i,projectId:c}=y(),m=o=>{const{name:s,value:a}=o.target;u({...r,[s]:a})},f=async o=>{o.preventDefault(),l(!0);try{const s={...r,companyId:i,projectsId:c},a=await fetch(`${C}/store-plan`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(a.ok){const F=await a.json();h(`/dashboard/companies/view/${i}/projects/view/${c}`,{state:{success:"Plan added successfully!"}})}else console.error("Error:",a.statusText)}catch(s){console.error("Fetch error:",s)}l(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(N,{title:"Add Plan"}),e.jsx("form",{onSubmit:f,children:e.jsx(n,{className:"justify-content-center",children:e.jsx(t,{children:e.jsx(g,{title:"Add Plan",children:e.jsxs(n,{children:[e.jsx(t,{lg:"6",children:e.jsxs(n,{className:"mb-3",children:[e.jsx(p,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"Name"}),e.jsx(t,{sm:"10",children:e.jsx(x,{value:r.name,onChange:m,name:"name",type:"text",id:"example-text-input"})})]})}),e.jsx(t,{lg:"6",children:e.jsxs(n,{className:"mb-3",children:[e.jsx(p,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"Description"}),e.jsx(t,{sm:"10",children:e.jsx(x,{value:r.description,onChange:m,name:"description",type:"text",id:"example-text-input"})})]})}),e.jsx(n,{className:"mb-3 d-flex justify-content-center",children:e.jsx(t,{sm:"12",className:"d-flex justify-content-end",children:e.jsx(S,{disabled:j,type:"submit",variant:"primary",className:"me-1",children:"Submit"})})})]})})})})})]})};export{$ as default};
