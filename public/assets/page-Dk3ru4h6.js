import{b as j,r as i,c as u,j as e,R as x,C as f,G as g}from"./index-CAFh8Qe-.js";import{C as N}from"./ComponentContainerCard-BHLb5dlU.js";import{U as v}from"./UsersTab-Dq3vO7--.js";import{B as b}from"./urls-D84fNQqS.js";import{A as C}from"./AllDataTables-BUziMU2M.js";import{A as w}from"./AllDataTables-DvFj-s2U.js";import{P}from"./PageMetaData-BdrMy3rA.js";import{N as h}from"./Nav-d3SU4IPQ.js";import"./Card-B6ongrnB.js";import"./divWithClassName-Ds10gy6J.js";import"./Button-DUm19Z6r.js";import"./AllDataTables-DLxOIYxP.js";import"./index-V1ytkxP2.js";import"./IconifyIcon-DIoPZGOh.js";import"./index-CFsCAHnL.js";import"./Table-C7xwyyyl.js";import"./Modal-CXhHI7_p.js";import"./useWindow-9TrldcIQ.js";import"./useEventCallback-CZjKJ66g.js";import"./DataKey-COGXBUcQ.js";import"./NoopTransition-Cm1DoMSP.js";import"./AllDataTables-TZ2zSmg_.js";import"./menu-DqvORbfx.js";import"./AllDataTables-DoNnjKKm.js";import"./AllDataTables-DyQqtqgH.js";import"./AllDataTables-DZdUoaxt.js";import"./AllDataTables-Bpbj-1eg.js";import"./AllDataTables-BYLZLIN7.js";import"./AllDataTables-CIaxGgJy.js";import"./hook-f2Z_u6VT.js";import"./Nav-BEWRMUE8.js";import"./NavContext-qBVxADE6.js";import"./NavbarContext-CgXW01Dx.js";import"./Anchor-Dqz5KG5G.js";const T=()=>{const{companyId:l}=j(),[s,m]=i.useState([]),[t,c]=i.useState(""),{setLoading:a}=u(),r=async()=>{try{a(!0);const p=await(await fetch(`${b}/get-projects?companyId=${l}`)).json();m(p),a(!1)}catch(o){console.error("Error fetching workers:",o)}};return i.useEffect(()=>{r()},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:"Projects"}),e.jsx("p",{className:"text-muted mb-0",children:"All Project list is listed below"})]}),e.jsx("div",{className:"d-flex align-items-center",children:e.jsxs("div",{className:"d-flex align-items-center me-3",children:[e.jsx("label",{htmlFor:"tradeType",className:"text-nowrap me-2 mb-0",children:"Search"}),e.jsx("input",{type:"text",id:"tradeType",className:"form-control",value:t,onChange:o=>c(o.target.value),placeholder:"Search by project name"})]})})]}),e.jsx("hr",{className:"my-3"}),e.jsx(x,{children:e.jsx(f,{md:12,children:e.jsx(C,{refreshData:r,projects:s,globalFilter:t})})})]})},S=()=>{const{companyId:l}=j(),[s,m]=i.useState([]),[t,c]=i.useState(""),a=async()=>{try{const o=await(await fetch(`${b}/get-company-professions?companyId=${l}`)).json();m(o)}catch(r){console.error("Error fetching workers:",r)}};return i.useEffect(()=>{a()},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:"Professions"}),e.jsx("p",{className:"text-muted mb-0",children:"All Professions list is listed below"})]}),e.jsx("div",{className:"d-flex align-items-center",children:e.jsxs("div",{className:"d-flex align-items-center me-3",children:[e.jsx("label",{htmlFor:"tradeType",className:"text-nowrap me-2 mb-0",children:"Search"}),e.jsx("input",{type:"text",id:"tradeType",className:"form-control",value:t,onChange:r=>c(r.target.value),placeholder:"Search by professions name"})]})})]}),e.jsx("hr",{className:"my-3"}),e.jsx(x,{children:e.jsx(f,{md:12,children:e.jsx(w,{refreshData:a,professions:s,globalFilter:t})})})]})},le=()=>{const{setLoading:l}=u(),[s,m]=i.useState(null),{companyId:t}=j(),{setSelectedCompany:c,selectedCompanyDetailPageTab:a,setSelectedCompanyDetailPageTab:r}=i.useContext(g),o=[{id:"profession",label:"Profession",content:e.jsx(S,{})},{id:"users",label:"Users",content:e.jsx(v,{})},{id:"projects",label:"Projects",content:e.jsx(T,{})}];i.useEffect(()=>{(async()=>{if(t){l(!0),c(t);try{const y=await(await fetch(`${b}/get-company-detail/${t}`)).json();m(y)}catch(d){console.error("Error fetching company details:",d)}finally{l(!1)}}})()},[t,c]);const p=()=>{const n=o.find(d=>d.id===a);return n?n.content:null};return e.jsxs(e.Fragment,{children:[e.jsx(P,{title:(s==null?void 0:s.name)||"Company Details"}),e.jsx(x,{className:"justify-content-center",children:e.jsx(f,{lg:"12",children:e.jsxs(N,{title:(s==null?void 0:s.name)||"Companies Name",children:[e.jsx(h,{variant:"tabs",className:"custom-tabs mb-3",children:o.map(n=>e.jsx(h.Item,{children:e.jsx(h.Link,{active:a===n.id,onClick:()=>r(n.id),className:a===n.id?"fw-bold":"",children:n.label})},n.id))}),e.jsx("div",{className:"tab-content",children:e.jsx("div",{className:"tab-pane fade show active",children:p()})})]})})})]})};export{le as default};
