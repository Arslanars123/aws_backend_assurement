import{r as m,b as N,j as s,R as t,C as a}from"./index-CF9SjLWQ.js";import{C as b}from"./ComponentContainerCard-n9fGDRyA.js";import{P}from"./PageMetaData-B4Fb5zJ6.js";import{B as c}from"./urls-BhGeBsON.js";import{F as p}from"./FormLabel-CaO2MFER.js";import{I as j}from"./Image-DGQJ2Jha.js";import"./Card-Bx1F2r4C.js";import"./divWithClassName-13-QUwjt.js";import"./Button-UcXSk4np.js";const w=()=>{var o;const[f,g]=m.useState(!0),[l,u]=m.useState(null),{planId:r}=N();return m.useEffect(()=>{r&&fetch(`${c}/get-plan-detail/${r}`).then(async e=>{const x=await e.json();u(x)}).catch(e=>console.error(e)).finally(()=>g(!1))},[r]),s.jsxs(s.Fragment,{children:[s.jsx(P,{title:"Plan"}),!f&&l&&s.jsx(t,{className:"justify-content-center",children:s.jsx(a,{lg:"12",children:s.jsx(b,{title:"Plan",children:s.jsxs(t,{children:[s.jsx(a,{lg:"6",children:s.jsxs(t,{className:"mb-3",children:[s.jsx(p,{className:"col-sm-2 col-form-label text-end",children:"Name"}),s.jsx(a,{sm:"10",className:"d-flex align-items-center",children:l.name})]})}),s.jsx(a,{lg:"6",children:s.jsxs(t,{className:"mb-3",children:[s.jsx(p,{className:"col-sm-2 col-form-label text-end",children:"Description"}),s.jsx(a,{sm:"10",className:"d-flex align-items-center",children:l.description})]})}),(o=l.drawIds)==null?void 0:o.map((e,x)=>{var d,h;return s.jsxs(a,{lg:"12",className:"mb-4",children:[s.jsx("h5",{children:e.name}),s.jsx(t,{children:(d=e.mainDrawings)==null?void 0:d.map((n,i)=>s.jsxs(a,{lg:"2",className:"text-center mb-2",children:[s.jsx(j,{src:`${c}/uploads/${n}`,thumbnail:!0,style:{maxWidth:"100px",maxHeight:"100px"}}),s.jsxs("div",{className:"small text-muted",children:["Main ",i+1]})]},i))}),s.jsx(t,{className:"mt-2",children:(h=e.childDrawings)==null?void 0:h.map((n,i)=>s.jsxs(a,{lg:"2",className:"text-center mb-2",children:[s.jsx(j,{src:`${c}/uploads/${n.file}`,thumbnail:!0,style:{maxWidth:"100px",maxHeight:"100px"}}),s.jsxs("div",{className:"small text-muted",children:["Linked to Main ",n.parentMainIndex+1]})]},i))})]},e._id)})]})})})})]})};export{w as default};
