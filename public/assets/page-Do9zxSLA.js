import{c as y,a as x,r,b as w,j as c,R as e,C as E}from"./index-DBwHp2gR.js";import{C as g}from"./ComponentContainerCard-CGy0xqPX.js";import{B as u}from"./urls-CXtk4x-h.js";import{G as I}from"./EditPage-MwmLlMt7.js";import"./Card-Du3hs8TN.js";import"./divWithClassName-Ur-ytTby.js";import"./Button-CssCL-wi.js";import"./utils-lSDqmSEn.js";import"./FormControl-DppOmn_c.js";import"./FormLabel-fYqbV-Jd.js";import"./ElementChildren-l2BBrKtg.js";import"./FormGroup-R3l8JdD0.js";import"./FormRange-B6yzJUuH.js";import"./FormSelect-CvP3DY7n.js";import"./Image-BAuz27ql.js";import"./TextField-_NGDJNXi.js";import"./useFormControl-a8c0_1tF.js";import"./assertThisInitialized-B9jnkVVz.js";import"./createPopper-C8K2eoCJ.js";const J=()=>{const{setLoading:m}=y(),i=x(),[f,h]=r.useState(null),{companyId:o,independentControllerId:a}=w();r.useEffect(()=>{a&&(m(!0),fetch(`${u}/get-user-detail/${a}`).then(async t=>{const s=await t.json();s==null||delete s.projectsId,s==null||delete s.companyId,s==null||delete s.phone,s==null||delete s.address,s==null||delete s.postalCode,s==null||delete s.city,s==null||delete s.userRole,s==null||delete s.password,s==null||delete s.picture,s==null||delete s.password,s==null||delete s.startDate,s==null||delete s.isProjectManager,s==null||delete s.type,s==null||delete s.mainId,s==null||delete s.userProfession,h(s)}).catch(t=>console.error(t)).finally(()=>m(!1)))},[a]);const p=async t=>{try{const s=await fetch(`${u}/update-user/${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});s.ok?i(`/dashboard/companies/view/${o}`):console.error("Error:",s.statusText)}catch(s){console.error("Error:",s)}},j=()=>{i(`/dashboard/companies/view/${o}/independentControllerView/view/${a}`)};return c.jsx(e,{className:"justify-content-center",children:c.jsx(E,{lg:"12",children:c.jsx(g,{title:"Edit Independent Controller",children:c.jsx(e,{children:c.jsx(I,{data:f,onSave:p,disabledFields:["_id","role"],onCancel:j})})})})})};export{J as default};
