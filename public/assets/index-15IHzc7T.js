import{r,j as n,R as g,C as M}from"./index-CAFh8Qe-.js";import{B as w}from"./Button-DUm19Z6r.js";const B=({onSave:l,onClear:i,width:d=400,height:h=200,penColor:v="#000000",penWidth:f=2})=>{const o=r.useRef(null),[D,p]=r.useState(!1),[c,j]=r.useState(null);r.useEffect(()=>{const e=o.current,t=e.getContext("2d");e.width=d,e.height=h,t.strokeStyle=v,t.lineWidth=f,t.lineCap="round",t.lineJoin="round",j(t)},[d,h,v,f]);const x=e=>{p(!0);const t=o.current.getBoundingClientRect(),s=e.clientX-t.left,u=e.clientY-t.top;c.beginPath(),c.moveTo(s,u)},m=e=>{if(!D)return;const t=o.current.getBoundingClientRect(),s=e.clientX-t.left,u=e.clientY-t.top;c.lineTo(s,u),c.stroke()},a=()=>{p(!1)},C=()=>{c.clearRect(0,0,o.current.width,o.current.height),i&&i()},E=()=>{o.current.toBlob(t=>{l&&l(t)},"image/png")},R=e=>{e.preventDefault(),x(e)},S=e=>{e.preventDefault(),m(e)},T=e=>{e.preventDefault(),a()},b=e=>{e.preventDefault();const t=e.touches[0],s=new MouseEvent("mousedown",{clientX:t.clientX,clientY:t.clientY});x(s)},y=e=>{e.preventDefault();const t=e.touches[0],s=new MouseEvent("mousemove",{clientX:t.clientX,clientY:t.clientY});m(s)},X=e=>{e.preventDefault(),new MouseEvent("mouseup",{}),a()};return n.jsxs("div",{children:[n.jsx(g,{className:"mb-3",children:n.jsx(M,{children:n.jsx("canvas",{ref:o,style:{border:"2px solid #ccc",borderRadius:"8px",cursor:"crosshair",backgroundColor:"#fff"},onMouseDown:R,onMouseMove:S,onMouseUp:T,onMouseLeave:a,onTouchStart:b,onTouchMove:y,onTouchEnd:X})})}),n.jsx(g,{children:n.jsxs(M,{children:[n.jsx(w,{variant:"outline-secondary",onClick:C,className:"me-2",children:"Clear"}),n.jsx(w,{variant:"primary",onClick:E,children:"Save Signature"})]})})]})};export{B as S};
