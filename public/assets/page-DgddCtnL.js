import{c as j,a as y,r as c,b as x,j as e,R as m,C as E}from"./index-CRUsPvgo.js";import{C as g}from"./ComponentContainerCard--Y8wSC_7.js";import{B as p}from"./urls-BhGeBsON.js";import{G as l}from"./EditPage-CvTmWZJi.js";import"./Card-Bhvh6y0G.js";import"./divWithClassName-C1rBczNJ.js";import"./Button-DJ2Vf-Um.js";import"./FormControl-BDBioXn6.js";import"./FormLabel-BGcO0FaX.js";import"./ElementChildren-O-DRVVim.js";import"./FormGroup-DNsBnA1C.js";import"./FormRange-CrxIL-BR.js";import"./FormSelect-BSYDkxj2.js";import"./Image--5rbSURm.js";import"./TextField-C4cuhHKs.js";import"./useSlot-Bf6MFm9D.js";import"./assertThisInitialized-B9jnkVVz.js";import"./createPopper-BcofISFZ.js";const A=()=>{const{setLoading:o}=j(),r=y(),[u,f]=c.useState(null),{companyId:i,independentControllerId:a}=x();c.useEffect(()=>{a&&(o(!0),fetch(`${p}/get-user-detail/${a}`).then(async t=>{const s=await t.json();s==null||delete s._id,s==null||delete s.companyId,s==null||delete s.projectsId,s==null||delete s.isProjectManager,s==null||delete s.picture,s==null||delete s.role,s==null||delete s.startDate,s==null||delete s.type,s==null||delete s.userProfession,s==null||delete s.mainId,f(s)}).catch(t=>console.error(t)).finally(()=>o(!1)))},[a]);const h=async t=>{try{const s=await fetch(`${p}/update-user/${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});s.ok?r(`/dashboard/companies/view/${i}`):console.error("Error:",s.statusText)}catch(s){console.error("Error:",s)}},d=()=>{r(`/dashboard/companies/view/${i}/independentControllerView/view/${a}`)};return e.jsx(m,{className:"justify-content-center",children:e.jsx(E,{lg:"12",children:e.jsx(g,{title:"Edit Independent Controller",children:e.jsx(m,{children:e.jsx(l,{data:u,onSave:h,disabledFields:["_id","role"],onCancel:d})})})})})};export{A as default};
