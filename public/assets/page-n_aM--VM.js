import{r as m,a as y,b as F,j as e,R as l,C as t}from"./index-DpbIAROa.js";import{C as E}from"./ComponentContainerCard-kAFFVE0Z.js";import{P as I}from"./PageMetaData-C6UhIQjj.js";import{B as j}from"./urls-CXtk4x-h.js";import{F as o}from"./FormLabel-BVfCwwhh.js";import{F as i}from"./FormControl-CRveXHIl.js";import{F as x}from"./FormSelect-CT6NOnnm.js";import{B as T}from"./Button-DGaw8vsr.js";import"./Card-DYgbdisJ.js";import"./divWithClassName-DPLQ3Lm2.js";const A={euroCode:null,independent:null,b222x:"",b322x:"",a5x:"",specialText:"",exc:"",cc:"",controllerT:"",controllerD:null,projectId:null,professionId:null},G=()=>{const[s,u]=m.useState(A),[f,p]=m.useState(!1),b=y(),{companyId:C,projectId:S}=F(),[g,N]=m.useState([]),a=r=>{const{name:n,value:c}=r.target;u({...s,[n]:c})};m.useEffect(()=>{(async()=>{try{const c=await(await fetch(`${j}/get-professions`)).json();N(c)}catch(n){console.error("Error fetching professions:",n)}})()},[]);const d=r=>{s[r.target.name]=r.target.value,u({...s})},v=async r=>{r.preventDefault(),p(!0);try{const n=new FormData;Object.keys(s).forEach(h=>{n.append(h,s[h])}),picture&&n.append("picture",picture),n.append("companyId",C),n.append("projectsId",S);const c=await fetch(`${j}/store-control`,{method:"POST",body:n});if(c.ok){const h=await c.json();b("/dashboard/controls",{state:{success:"Static control plan added successfully!"}})}else console.error("Error:",c.statusText)}catch(n){console.error("Fetch error:",n)}p(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Add Static Control Plan"}),e.jsx("form",{onSubmit:v,children:e.jsx(l,{className:"justify-content-center",children:e.jsx(t,{children:e.jsx(E,{title:"Add Static Control Plan",children:e.jsxs(l,{children:[e.jsx(t,{lg:"6",children:e.jsxs(l,{className:"mb-3",children:[e.jsx(o,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"B.2.2.2X"}),e.jsx(t,{sm:"10",children:e.jsx(i,{value:s.b222x,onChange:a,name:"b222x",type:"text",id:"example-text-input"})})]})}),e.jsx(t,{lg:"6",children:e.jsxs(l,{className:"mb-3",children:[e.jsx(o,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"B.3.2.2X"}),e.jsx(t,{sm:"10",children:e.jsx(i,{value:s.b322x,onChange:a,name:"b322x",type:"text",id:"example-text-input"})})]})}),e.jsx(t,{lg:"6",children:e.jsxs(l,{className:"mb-3",children:[e.jsx(o,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"A5.X"}),e.jsx(t,{sm:"10",children:e.jsx(i,{value:s.a5x,onChange:a,name:"a5x",type:"text",id:"example-text-input"})})]})}),e.jsx(t,{lg:"6",children:e.jsxs(l,{className:"mb-3",children:[e.jsx(o,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"Special Text"}),e.jsx(t,{sm:"10",children:e.jsx(i,{value:s.specialText,onChange:a,name:"specialText",type:"text",id:"example-text-input"})})]})}),e.jsx(t,{lg:"6",children:e.jsxs(l,{className:"mb-3",children:[e.jsx(o,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"EXC Class Number 1 to 4"}),e.jsx(t,{sm:"10",children:e.jsx(i,{value:s.exc,onChange:a,name:"exc",type:"text",id:"example-text-input"})})]})}),e.jsx(t,{lg:"6",children:e.jsxs(l,{className:"mb-3",children:[e.jsx(o,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"CC Class Number 1 to 4"}),e.jsx(t,{sm:"10",children:e.jsx(i,{value:s.cc,onChange:a,name:"cc",type:"text",id:"example-text-input"})})]})}),e.jsx(t,{lg:"6",children:e.jsxs(l,{className:"mb-3",children:[e.jsx(o,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"Controller"}),e.jsx(t,{sm:"10",children:e.jsx(i,{value:s.controllerT,onChange:a,name:"controllerT",type:"text",id:"example-text-input"})})]})}),e.jsx(t,{lg:"6",children:e.jsxs(l,{className:"mb-3",children:[e.jsx(o,{className:"col-sm-2 col-form-label text-end",children:"Select Controller"}),e.jsx(t,{sm:"10",children:e.jsxs(x,{value:s.controllerD,name:"controllerD",onChange:d,children:[e.jsx("option",{defaultValue:"",children:"Select Controller"}),e.jsx("option",{value:"admin",children:"Admin"})]})})]})}),e.jsx(t,{lg:"6",children:e.jsxs(l,{className:"mb-3",children:[e.jsx(o,{className:"col-sm-2 col-form-label text-end",children:"Select EURO Code"}),e.jsx(t,{sm:"10",children:e.jsxs(x,{value:s.euroCode,name:"euroCode",onChange:d,children:[e.jsx("option",{defaultValue:"",children:"Select Euro Code"}),e.jsx("option",{value:"Load on Load Structures",children:"Load on Load Structures"}),e.jsx("option",{value:"Concrete Structures",children:"Concrete Structures"}),e.jsx("option",{value:"Steel Structures",children:"Steel Structures"}),e.jsx("option",{value:"Composite Structures",children:"Composite Structures"}),e.jsx("option",{value:"Timber Structures",children:"Timber Structures"}),e.jsx("option",{value:"Masonry",children:"Masonry"}),e.jsx("option",{value:"Geotechnics",children:"Geotechnics"}),e.jsx("option",{value:"Seismic Areas",children:"Seismic Areas"}),e.jsx("option",{value:"EN 1520: Lightweight Concrete",children:"EN 1520: Lightweight Concrete"}),e.jsx("option",{value:"EN 12602: Aerated Concrete",children:"EN 12602: Aerated Concrete"})]})})]})}),e.jsx(t,{lg:"6",children:e.jsxs(l,{className:"mb-3",children:[e.jsx(o,{className:"col-sm-2 col-form-label text-end",children:"Select Independent"}),e.jsx(t,{sm:"10",children:e.jsxs(x,{value:s.independent,name:"independent",onChange:d,children:[e.jsx("option",{defaultValue:"",children:"Select Independent"}),e.jsx("option",{value:"Intern",children:"Intern"}),e.jsx("option",{value:"Extern",children:"Extern"})]})})]})}),e.jsx(t,{lg:"6",children:e.jsxs(l,{className:"mb-3",children:[e.jsx(o,{className:"col-sm-2 col-form-label text-end",children:"Select Profession"}),e.jsx(t,{sm:"10",children:e.jsxs(x,{value:s.professionId,name:"professionId",onChange:d,children:[e.jsx("option",{defaultValue:"",children:"Select profession"}),g.map(r=>e.jsx("option",{value:r._id,children:r.name},r.id))]})})]})}),e.jsx(l,{className:"mb-3 d-flex justify-content-center",children:e.jsx(t,{sm:"12",className:"d-flex justify-content-end",children:e.jsx(T,{disabled:f,type:"submit",variant:"primary",className:"me-1",children:"Submit"})})})]})})})})})]})};export{G as default};
