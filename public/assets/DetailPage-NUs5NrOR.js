import{r as g,j as s,R as c,C as d}from"./index-CF9SjLWQ.js";import{B as x}from"./urls-BhGeBsON.js";import{B as a}from"./Button-UcXSk4np.js";import{F as y}from"./FormLabel-CaO2MFER.js";import{M as i}from"./Modal-CQeUVPXG.js";import{I as p}from"./Image-DGQJ2Jha.js";const h=r=>r.replace(/([A-Z])/g," $1").replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()),j=r=>typeof r=="string"&&/\.(jpg|jpeg|png|gif|webp)$/i.test(r),m=(r,t="")=>{if(r===null||r==="null"||r===void 0||r===""||typeof r=="string"&&r.length===0||Array.isArray(r)&&r.length===0)return s.jsx("span",{children:"Empty in DB"});if(j(r))return s.jsx(p,{src:`${x}/uploads/${r}`,alt:"Preview",fluid:!0,rounded:!0,style:{maxWidth:"100px",maxHeight:"100px",margin:"5px"}});if(Array.isArray(r)&&r.every(j))return s.jsx(c,{children:r.map((e,n)=>s.jsx(d,{xs:"auto",children:s.jsx(p,{src:`${x}/uploads/${e}`,alt:`Image ${n}`,fluid:!0,rounded:!0,style:{maxWidth:"100px",maxHeight:"100px",margin:"5px"}})},n))});if(Array.isArray(r))return r.length===0?s.jsx("span",{children:"â€”"}):s.jsx("div",{className:"d-flex flex-column gap-2",children:r.map((e,n)=>s.jsx("div",{style:{marginLeft:10},children:m(e,`${t}[${n}]`)},`${t}-${n}`))});if(typeof r=="object")return r!=null&&r.name?s.jsx("span",{children:r.name}):r!=null&&r.GroupName?s.jsx("span",{children:r.GroupName}):s.jsx("div",{className:"d-flex flex-column gap-1",children:Object.entries(r).map(([e,n])=>s.jsxs("div",{className:"ms-2",children:[s.jsxs("strong",{children:[h(e),":"]})," ",m(n,`${t}.${e}`)]},`${t}-${e}`))});if(typeof r=="string"&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/.test(r)){const e=new Date(r).toLocaleString();return s.jsx("span",{children:e})}return s.jsx("span",{children:String(r)})};function u({data:r,handleEdit:t,handleDelete:e}){const[n,o]=g.useState(!1);return s.jsxs(c,{children:[s.jsx(c,{className:"mb-3",children:s.jsxs(d,{className:"d-flex justify-content-end",children:[t&&s.jsx(a,{variant:"primary",onClick:t,className:"me-2",children:"Edit"}),e&&s.jsx(a,{variant:"danger",onClick:()=>o(!0),children:"Delete"})]})}),Object.entries(r||{}).map(([l,f])=>s.jsx(d,{lg:"6",children:s.jsxs(c,{className:"mb-3",children:[s.jsx(y,{className:"col-sm-3 col-form-label text-end",children:h(l)}),s.jsx(d,{sm:"9",className:"d-flex align-items-center",children:m(f,l)})]})},l)),s.jsxs(i,{show:n,onHide:()=>o(!1),children:[s.jsx(i.Header,{closeButton:!0,children:s.jsx(i.Title,{children:"Confirm Deletion"})}),s.jsx(i.Body,{children:"Are you sure you want to delete this record?"}),s.jsxs(i.Footer,{children:[s.jsx(a,{variant:"secondary",onClick:()=>o(!1),children:"Cancel"}),s.jsx(a,{variant:"danger",onClick:()=>{o(!1),e()},children:"Yes, Delete"})]})]})]})}export{u as D};
