import{r as b,i as dt,j as n,l as ut,O as G,Q as W,U as _,V as v,p as E,W as f,S as q,X as F,$ as ot,a3 as ht,Y as Z,al as mt,am as gt,R as bt,C as ft,a as yt,u as wt,G as St}from"./index-CcXmhF8I.js";import{P as vt}from"./PageMetaData-_VBvv3yh.js";import{C as xt}from"./ComponentContainerCard-DfOGF2MZ.js";import{R as Ct}from"./index-upj6IrLX.js";import{B as at}from"./urls-BhGeBsON.js";import{B as kt}from"./Button-Bb5NLKr0.js";import{k as Pt,u as $t,f as K,e as A,B as Bt,g as st}from"./useFormControl-DAPC7iVt.js";import{A as Rt}from"./Alert-BzuID01t.js";import"./Card-BbEwloSO.js";import"./divWithClassName-stAqo3H6.js";import"./IconifyIcon-DvcQp4Ra.js";import"./Modal-DS3RX9z9.js";import"./useWindow-Dt3mh2_H.js";import"./DataKey-SibGzzBh.js";import"./NoopTransition-C0OklqXl.js";import"./assertThisInitialized-B9jnkVVz.js";import"./Anchor-CgtXfp9s.js";const rt=b.forwardRef(({bsPrefix:t,variant:e,animation:o="border",size:a,as:i="div",className:s,...r},l)=>{t=dt(t,"spinner");const d=`${t}-${o}`;return n.jsx(i,{ref:l,...r,className:ut(s,d,a&&`${d}-${a}`,e&&`text-${e}`)})});rt.displayName="Spinner";function jt(t){return G("MuiTypography",t)}W("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Ft={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Tt=Pt(),Mt=t=>{const{align:e,gutterBottom:o,noWrap:a,paragraph:i,variant:s,classes:r}=t,l={root:["root",s,t.align!=="inherit"&&`align${f(e)}`,o&&"gutterBottom",a&&"noWrap",i&&"paragraph"]};return q(l,jt,r)},Lt=v("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.variant&&e[o.variant],o.align!=="inherit"&&e[`align${f(o.align)}`],o.noWrap&&e.noWrap,o.gutterBottom&&e.gutterBottom,o.paragraph&&e.paragraph]}})(F(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([o,a])=>o!=="inherit"&&a&&typeof a=="object").map(([o,a])=>({props:{variant:o},style:a})),...Object.entries(t.palette).filter(ot()).map(([o])=>({props:{color:o},style:{color:(t.vars||t).palette[o].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,o])=>typeof o=="string").map(([o])=>({props:{color:`text${f(o)}`},style:{color:(t.vars||t).palette.text[o]}})),{props:({ownerState:o})=>o.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:o})=>o.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:o})=>o.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:o})=>o.paragraph,style:{marginBottom:16}}]}})),tt={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},et=b.forwardRef(function(e,o){const{color:a,...i}=_({props:e,name:"MuiTypography"}),s=!Ft[a],r=Tt({...i,...s&&{color:a}}),{align:l="inherit",className:d,component:u,gutterBottom:p=!1,noWrap:w=!1,paragraph:h=!1,variant:g="body1",variantMapping:x=tt,...C}=r,k={...r,align:l,color:a,className:d,component:u,gutterBottom:p,noWrap:w,paragraph:h,variant:g,variantMapping:x},$=u||(h?"p":x[g]||tt[g])||"span",T=Mt(k);return n.jsx(Lt,{as:$,ref:o,className:E(T.root,d),...C,ownerState:k,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...C.style}})});function Nt(t){return G("PrivateSwitchBase",t)}W("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const zt=t=>{const{classes:e,checked:o,disabled:a,edge:i}=t,s={root:["root",o&&"checked",a&&"disabled",i&&`edge${f(i)}`],input:["input"]};return q(s,Nt,e)},Dt=v(Bt)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),Ut=v("input",{shouldForwardProp:ht})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),At=b.forwardRef(function(e,o){const{autoFocus:a,checked:i,checkedIcon:s,defaultChecked:r,disabled:l,disableFocusRipple:d=!1,edge:u=!1,icon:p,id:w,inputProps:h,inputRef:g,name:x,onBlur:C,onChange:k,onFocus:$,readOnly:T,required:M=!1,tabIndex:B,type:P,value:L,slots:V={},slotProps:X={},...N}=e,[z,H]=$t({controlled:i,default:!!r,name:"SwitchBase",state:"checked"}),S=K(),D=c=>{$&&$(c),S&&S.onFocus&&S.onFocus(c)},R=c=>{C&&C(c),S&&S.onBlur&&S.onBlur(c)},U=c=>{if(c.nativeEvent.defaultPrevented)return;const y=c.target.checked;H(y),k&&k(c,y)};let I=l;S&&typeof I>"u"&&(I=S.disabled);const nt=P==="checkbox"||P==="radio",J={...e,checked:z,disabled:I,disableFocusRipple:d,edge:u},Q=zt(J),Y={slots:V,slotProps:{input:h,...X}},[it,lt]=A("root",{ref:o,elementType:Dt,className:Q.root,shouldForwardComponentProp:!0,externalForwardedProps:{...Y,component:"span",...N},getSlotProps:c=>({...c,onFocus:y=>{var j;(j=c.onFocus)==null||j.call(c,y),D(y)},onBlur:y=>{var j;(j=c.onBlur)==null||j.call(c,y),R(y)}}),ownerState:J,additionalProps:{centerRipple:!0,focusRipple:!d,disabled:I,role:void 0,tabIndex:null}}),[ct,pt]=A("input",{ref:g,elementType:Ut,className:Q.input,externalForwardedProps:Y,getSlotProps:c=>({...c,onChange:y=>{var j;(j=c.onChange)==null||j.call(c,y),U(y)}}),ownerState:J,additionalProps:{autoFocus:a,checked:i,defaultChecked:r,disabled:I,id:nt?w:void 0,name:x,readOnly:T,required:M,tabIndex:B,type:P,...P==="checkbox"&&L===void 0?{}:{value:L}}});return n.jsxs(it,{...lt,children:[n.jsx(ct,{...pt}),z?s:p]})});function It(t){return G("MuiFormControlLabel",t)}const O=W("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Ot=t=>{const{classes:e,disabled:o,labelPlacement:a,error:i,required:s}=t,r={root:["root",o&&"disabled",`labelPlacement${f(a)}`,i&&"error",s&&"required"],label:["label",o&&"disabled"],asterisk:["asterisk",i&&"error"]};return q(r,It,e)},Et=v("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{[`& .${O.label}`]:e.label},e.root,e[`labelPlacement${f(o.labelPlacement)}`]]}})(F(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${O.disabled}`]:{cursor:"default"},[`& .${O.label}`]:{[`&.${O.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),Gt=v("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(F(({theme:t})=>({[`&.${O.error}`]:{color:(t.vars||t).palette.error.main}}))),Wt=b.forwardRef(function(e,o){const a=_({props:e,name:"MuiFormControlLabel"}),{checked:i,className:s,componentsProps:r={},control:l,disabled:d,disableTypography:u,inputRef:p,label:w,labelPlacement:h="end",name:g,onChange:x,required:C,slots:k={},slotProps:$={},value:T,...M}=a,B=K(),P=d??l.props.disabled??(B==null?void 0:B.disabled),L=C??l.props.required,V={disabled:P,required:L};["checked","name","onChange","value","inputRef"].forEach(U=>{typeof l.props[U]>"u"&&typeof a[U]<"u"&&(V[U]=a[U])});const X=st({props:a,muiFormControl:B,states:["error"]}),N={...a,disabled:P,labelPlacement:h,required:L,error:X.error},z=Ot(N),H={slots:k,slotProps:{...r,...$}},[S,D]=A("typography",{elementType:et,externalForwardedProps:H,ownerState:N});let R=w;return R!=null&&R.type!==et&&!u&&(R=n.jsx(S,{component:"span",...D,className:E(z.label,D==null?void 0:D.className),children:R})),n.jsxs(Et,{className:E(z.root,s),ownerState:N,ref:o,...M,children:[b.cloneElement(l,V),L?n.jsxs("div",{children:[R,n.jsxs(Gt,{ownerState:N,"aria-hidden":!0,className:z.asterisk,children:["â€‰","*"]})]}):R]})});function qt(t){return G("MuiFormGroup",t)}W("MuiFormGroup",["root","row","error"]);const Vt=t=>{const{classes:e,row:o,error:a}=t;return q({root:["root",o&&"row",a&&"error"]},qt,e)},_t=v("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),Xt=b.forwardRef(function(e,o){const a=_({props:e,name:"MuiFormGroup"}),{className:i,row:s=!1,...r}=a,l=K(),d=st({props:a,muiFormControl:l,states:["error"]}),u={...a,row:s,error:d.error},p=Vt(u);return n.jsx(_t,{className:E(p.root,i),ownerState:u,ref:o,...r})});function Ht(t){return G("MuiSwitch",t)}const m=W("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Jt=t=>{const{classes:e,edge:o,size:a,color:i,checked:s,disabled:r}=t,l={root:["root",o&&`edge${f(o)}`,`size${f(a)}`],switchBase:["switchBase",`color${f(i)}`,s&&"checked",r&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},d=q(l,Ht,e);return{...e,...d}},Kt=v("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.edge&&e[`edge${f(o.edge)}`],e[`size${f(o.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${m.thumb}`]:{width:16,height:16},[`& .${m.switchBase}`]:{padding:4,[`&.${m.checked}`]:{transform:"translateX(16px)"}}}}]}),Qt=v(At,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.switchBase,{[`& .${m.input}`]:e.input},o.color!=="default"&&e[`color${f(o.color)}`]]}})(F(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${m.checked}`]:{transform:"translateX(20px)"},[`&.${m.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${m.checked} + .${m.track}`]:{opacity:.5},[`&.${m.disabled} + .${m.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${m.input}`]:{left:"-100%",width:"300%"}})),F(({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Z(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(ot(["light"])).map(([e])=>({props:{color:e},style:{[`&.${m.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Z(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${m.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?mt(t.palette[e].main,.62):gt(t.palette[e].main,.55)}`}},[`&.${m.checked} + .${m.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),Yt=v("span",{name:"MuiSwitch",slot:"Track"})(F(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),Zt=v("span",{name:"MuiSwitch",slot:"Thumb"})(F(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),te=b.forwardRef(function(e,o){const a=_({props:e,name:"MuiSwitch"}),{className:i,color:s="primary",edge:r=!1,size:l="medium",sx:d,slots:u={},slotProps:p={},...w}=a,h={...a,color:s,edge:r,size:l},g=Jt(h),x={slots:u,slotProps:p},[C,k]=A("root",{className:E(g.root,i),elementType:Kt,externalForwardedProps:x,ownerState:h,additionalProps:{sx:d}}),[$,T]=A("thumb",{className:g.thumb,elementType:Zt,externalForwardedProps:x,ownerState:h}),M=n.jsx($,{...T}),[B,P]=A("track",{className:g.track,elementType:Yt,externalForwardedProps:x,ownerState:h});return n.jsxs(C,{...k,children:[n.jsx(Qt,{type:"checkbox",icon:M,checkedIcon:M,ref:o,ownerState:h,...w,classes:{...g,root:g.switchBase},slots:{...u.switchBase&&{root:u.switchBase},...u.input&&{input:u.input}},slotProps:{...p.switchBase&&{root:typeof p.switchBase=="function"?p.switchBase(h):p.switchBase},...p.input&&{input:typeof p.input=="function"?p.input(h):p.input}}}),n.jsx(B,{...P})]})}),ee=({company:t,refreshData:e})=>{const[o,a]=b.useState(!1),i=async s=>{a(!0);try{const r=await fetch(`${at}/update-company-status/${t._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})});r.ok?(await r.json(),e()):console.error("Error updating status:",r.statusText)}catch(r){console.error("Error in status update:",r)}a(!1)};return n.jsx(Xt,{children:n.jsx(Wt,{control:n.jsx(te,{checked:t.status==="activate",onChange:()=>i(t.status==="activate"?"deactivate":"activate"),disabled:o}),label:o?n.jsx(rt,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):t.status==="activate"?"Activated ":"Deactivated"})})},oe=({companies:t,refreshData:e})=>{const o=[2,5,10,20,50],a=yt(),i=[{header:"Name",accessorKey:"name"},{header:"Status",cell:({row:s})=>n.jsx(ee,{company:s.original,refreshData:e})},{header:"View Details",cell:({row:s})=>n.jsx(kt,{variant:"info",className:"me-2",onClick:()=>{var r;a(`/dashboard/generalFlowCompanies/view/${(r=s==null?void 0:s.original)==null?void 0:r._id}`)},children:"View Details"})}];return n.jsx(xt,{title:"Companies",addUrl:"/dashboard/generalFlowCompanies/add",children:n.jsx(Ct,{url:"get-companies",refreshData:e,columns:i,data:t,rowsPerPageList:o,pageSize:10,tableClass:"datatable",theadClass:"table-light",showPagination:!0,searchable:!0})})},ae=({companies:t,refreshData:e})=>n.jsx(bt,{className:"justify-content-center",children:n.jsx(ft,{xs:12,children:n.jsx(oe,{companies:t,refreshData:e})})}),ve=()=>{var w;const[t,e]=b.useState([]),[o,a]=b.useState(!1),i=wt(),[s,r]=b.useState(((w=i.state)==null?void 0:w.success)||""),{setSelectedCompany:l,setSelectedCompanyDetailPageTab:d,setSelectedProjectDetailPageTab:u}=b.useContext(St),p=async()=>{a(!0);try{const g=await(await fetch(`${at}/get-companies`)).json();e(g)}catch(h){console.error(h)}finally{a(!1)}};return b.useEffect(()=>{p(),l(null),d("profession"),u("reports")},[]),n.jsxs(n.Fragment,{children:[s&&n.jsx(Rt,{variant:"success",dismissible:!0,onClose:()=>r(""),children:s}),n.jsx(vt,{title:"Data Tables"}),t&&!o&&n.jsx(ae,{refreshData:p,companies:t})]})};export{ve as default};
