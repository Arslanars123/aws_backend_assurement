import{r as t,a as f,G as j,j as e,R as o,C as n}from"./index-CEbbE1Sf.js";import{C as h}from"./ComponentContainerCard-BpYspYtC.js";import{P as v}from"./PageMetaData-qE4R9bbS.js";import{B as b}from"./urls-CvG9cD6N.js";import{F as C}from"./FormLabel-WQTNbj7P.js";import{F as S}from"./FormControl-DFJ9Ydzw.js";import{B as P}from"./Button-CWQV4UHt.js";import"./Card-mt6mV6AB.js";import"./divWithClassName-CT9nWrpT.js";import"./FormContext-CSwRqVJr.js";const y={name:""},H=()=>{const[a,m]=t.useState(y),[u,i]=t.useState(!1),d=f(),[g,F]=t.useState(null),[w,N]=t.useState(null);t.useRef(null);const[R,E]=t.useState([]),[B,D]=t.useState([]);t.useRef(null);const{selectedCompany:L,selectedProject:A,companies:G,projects:I}=t.useContext(j),p=l=>{const{name:s,value:r}=l.target;m({...a,[s]:r})},x=async l=>{l.preventDefault(),i(!0);try{const s=new FormData;Object.keys(a).forEach(c=>{s.append(c,a[c])});const r=await fetch(`${b}/store-level`,{method:"POST",body:s});if(r.ok){const c=await r.json();d("/dashboard/levels",{state:{success:"Level added successfully!"}})}else console.error("Error:",r.statusText)}catch(s){console.error("Fetch error:",s)}i(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:"Certificate level"}),e.jsx("form",{onSubmit:x,children:e.jsx(o,{className:"justify-content-center",children:e.jsx(n,{children:e.jsx(h,{title:"Certificate level",children:e.jsxs(o,{children:[e.jsx(n,{lg:"6",children:e.jsxs(o,{className:"mb-3",children:[e.jsx(C,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"Name"}),e.jsx(n,{sm:"10",children:e.jsx(S,{value:a.name,onChange:p,name:"name",type:"text",id:"example-text-input"})})]})}),e.jsx(o,{className:"mb-3 d-flex justify-content-center",children:e.jsx(n,{sm:"12",className:"d-flex justify-content-end",children:e.jsx(P,{disabled:u,type:"submit",variant:"primary",className:"me-1",children:"Submit"})})})]})})})})})]})};export{H as default};
