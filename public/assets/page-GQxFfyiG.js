import{r as s,a as y,G as C,j as e,R as n,C as a}from"./index-B9-Fw72-.js";import{C as g}from"./ComponentContainerCard-CQST7gBQ.js";import{P as F}from"./PageMetaData-D2p2uQ5O.js";import{B as P}from"./urls-BhGeBsON.js";import{F as R}from"./FormLabel-Npy4DC-M.js";import{F as I}from"./FormControl-Di5J9l5P.js";import{B as v}from"./Button-CN5PJwBC.js";import"./Card-ZzJPZ8wj.js";import"./divWithClassName-COkzKTYF.js";const w={},$=()=>{s.useState(w);const[m,i]=s.useState(!1),d=y(),[c,p]=s.useState(null),[N,f]=s.useState(null),x=s.useRef(null),{selectedCompany:h,selectedProjects:j,selectedProfession:E,companies:U,projects:A}=s.useContext(C),[l,B]=s.useState([]);s.useState([]),s.useRef(null);const b=o=>{const t=o.target.files[0];if(p(t),t){const r=URL.createObjectURL(t);f(r)}},S=async o=>{o.preventDefault(),i(!0);try{const t=new FormData;c&&t.append("file",c),t.append("companyId",h),t.append("projectsId",j),l.length>0&&l.forEach(u=>{t.append("pictures",u)});const r=await fetch(`${P}/store-input`,{method:"POST",body:t});if(r.ok){const u=await r.json();d("/dashboard/inputs",{state:{success:"Input added successfully!"}})}else console.error("Error:",r.statusText)}catch(t){console.error("Fetch error:",t)}i(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(F,{title:"Add Input"}),e.jsx("form",{onSubmit:S,children:e.jsx(n,{className:"justify-content-center",children:e.jsx(a,{children:e.jsx(g,{title:"Add Input",children:e.jsxs(n,{children:[e.jsx(a,{lg:"6",children:e.jsxs(n,{className:"mb-3",children:[e.jsx(R,{htmlFor:"file-input",className:"col-sm-2 col-form-label text-end",children:"Upload Excel File"}),e.jsx(a,{sm:"10",children:e.jsx(I,{type:"file",id:"file-input",name:"picture",onChange:b,ref:x})})]})}),e.jsx(n,{className:"mb-3 d-flex justify-content-center",children:e.jsx(a,{sm:"12",className:"d-flex justify-content-end",children:e.jsx(v,{disabled:m,type:"submit",variant:"primary",className:"me-1",children:"Submit"})})})]})})})})})]})};export{$ as default};
