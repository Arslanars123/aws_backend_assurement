import{r as c,b as $,j as s,R as r,C as a}from"./index-CcXmhF8I.js";import{C as k}from"./ComponentContainerCard-DfOGF2MZ.js";import{P as y}from"./PageMetaData-_VBvv3yh.js";import{B as n}from"./urls-BhGeBsON.js";import{P as S}from"./page-COk_T7aE.js";import{F as m}from"./FormLabel-ur_7HqrZ.js";import{B as o}from"./Button-Bb5NLKr0.js";import{I as M}from"./Image-BA0SNZ1J.js";import"./Card-BbEwloSO.js";import"./divWithClassName-stAqo3H6.js";import"./Modal-DS3RX9z9.js";import"./useWindow-Dt3mh2_H.js";import"./DataKey-SibGzzBh.js";import"./NoopTransition-C0OklqXl.js";import"./FormRange-CQhrKEDN.js";import"./PDFButton-ck9OA1nG.js";const Q=()=>{var f,N,g,p,u,b,w,v,C;const[D,x]=c.useState(!1),[e,P]=c.useState(null),{noteId:t}=$(),[j,h]=c.useState({show:!1,pdfFile:null,name:null}),[F,I]=c.useState({});c.useEffect(()=>{t&&(x(!0),fetch(`${n}/get-note-detail/${t}`).then(async l=>{const i=await l.json();P(i)}).catch(l=>console.error(l)).finally(()=>x(!1)))},[t]);const d=(l,i)=>{h({show:!0,pdfFile:l,name:i})};return s.jsxs(s.Fragment,{children:[s.jsx(y,{title:"Address Note"}),D?null:s.jsx(r,{className:"justify-content-center",children:s.jsx(a,{lg:"12",children:s.jsx(k,{title:"View Note",children:s.jsxs(r,{children:[s.jsx(a,{lg:"6",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(m,{className:"col-sm-3 col-form-label text-end",children:"Item"}),s.jsx(a,{sm:"9",className:"d-flex align-items-center",children:e==null?void 0:e.item})]})}),s.jsx(a,{lg:"6",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(m,{className:"col-sm-3 col-form-label text-end",children:"Comments"}),s.jsx(a,{sm:"9",className:"d-flex align-items-center",children:e==null?void 0:e.comment})]})}),s.jsx(a,{lg:"6",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(m,{className:"col-sm-3 col-form-label text-end",children:"User Name"}),s.jsx(a,{sm:"9",className:"d-flex align-items-center",children:(f=e==null?void 0:e.users)==null?void 0:f.name})]})}),s.jsx(a,{lg:"6",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(m,{className:"col-sm-3 col-form-label text-end",children:"Project Manager"}),s.jsx(a,{sm:"9",className:"d-flex align-items-center",children:(N=e==null?void 0:e.projectManager)==null?void 0:N.name})]})}),s.jsx(a,{lg:"6",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(m,{className:"col-sm-3 col-form-label text-end",children:"Drawing"}),s.jsx(a,{sm:"9",className:"d-flex align-items-center",children:(g=e==null?void 0:e.drawing)==null?void 0:g.name})]})}),s.jsx(a,{lg:"12",children:s.jsxs(r,{className:"mb-2",children:[s.jsx(m,{className:"col-sm-2 col-form-label text-end",children:"Main Drawings"}),s.jsx(a,{sm:"10",children:(u=(p=e==null?void 0:e.drawing)==null?void 0:p.mainDrawings)==null?void 0:u.map((l,i)=>s.jsxs("div",{className:"mb-2 d-flex align-items-center",children:[s.jsx(o,{variant:"link",className:"p-0 me-2",onClick:()=>d(`${n}/uploads/${l.stored}`,l.original),children:s.jsx("i",{className:"fas fa-file-pdf",style:{fontSize:"2rem",color:"#dc3545"}})}),s.jsx("div",{className:"small text-muted",children:l.original})]},i))})]})}),s.jsx(a,{lg:"12",children:s.jsxs(r,{className:"mb-2",children:[s.jsx(m,{className:"col-sm-2 col-form-label text-end",children:"Child Drawings"}),s.jsx(a,{sm:"10",children:(w=(b=e==null?void 0:e.drawing)==null?void 0:b.childDrawings)==null?void 0:w.map((l,i)=>s.jsxs("div",{className:"mb-2 d-flex align-items-center",children:[s.jsx(o,{variant:"link",className:"p-0 me-2",onClick:()=>d(`${n}/uploads/${l.stored}`,l.original),children:s.jsx("i",{className:"fas fa-file-pdf",style:{fontSize:"2rem",color:"#dc3545"}})}),s.jsx("div",{className:"small text-muted",children:l.original})]},i))})]})}),s.jsx(a,{lg:"12",children:s.jsxs(r,{className:"mb-2",children:[s.jsx(m,{className:"col-sm-2 col-form-label text-end",children:"Marked Main Drawings"}),s.jsx(a,{sm:"10",children:(v=e==null?void 0:e.annotatedPdfs)==null?void 0:v.map((l,i)=>s.jsxs("div",{className:"mb-2 d-flex align-items-center",children:[s.jsx(o,{variant:"link",className:"p-0 me-2",onClick:()=>d(`${n}/uploads/${l.filename}`,l.originalName),children:s.jsx("i",{className:"fas fa-file-pdf",style:{fontSize:"2rem",color:"#dc3545"}})}),s.jsx("div",{className:"small text-muted",children:l.originalName})]},i))})]})}),s.jsx(a,{lg:"12",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(m,{className:"col-sm-2 col-form-label text-end",children:"Pictures"}),s.jsx(a,{sm:"10",className:"d-flex flex-wrap",children:(C=e==null?void 0:e.pictureObjects)==null?void 0:C.map((l,i)=>s.jsxs("div",{className:"me-3 mb-3 text-center",children:[s.jsx(M,{src:`${n}/uploads/${l.filename}`,alt:l.description,fluid:!0,rounded:!0,style:{maxWidth:"100px",maxHeight:"100px"}}),s.jsx("div",{children:l.description})]},i))})]})})]})})})}),j.show&&s.jsx(S,{drawDotsOnPdf:j,setDrawDotsOnPdf:h,readOnly:!0})]})};export{Q as default};
