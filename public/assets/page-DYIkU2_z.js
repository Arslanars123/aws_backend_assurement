import{r as a,b as y,a as P,j as e,R as l,C as s}from"./index-B342vN8a.js";import{C}from"./ComponentContainerCard-BIxSgnld.js";import{P as N}from"./PageMetaData-__vP5leC.js";import{B as p}from"./urls-CvG9cD6N.js";import{F as o}from"./FormLabel-f-qql_Cp.js";import{F as m}from"./FormControl-CJr_RFax.js";import{B as S}from"./Button-BnzdNfRx.js";import"./Card-CI8IuqFE.js";import"./divWithClassName-BnSMb2ls.js";import"./FormContext-BMEMUOIr.js";const J=()=>{const[t,x]=a.useState(null),[j,u]=a.useState(!1),[h,f]=a.useState(!0),[F,v]=a.useState(null),[E,w]=a.useState(null),[D,I]=a.useState([]),[R,B]=a.useState([]),{projectId:d}=y(),g=P();a.useRef(null),a.useRef(null);const[L,$]=a.useState([]);a.useEffect(()=>{d&&fetch(`${p}/get-project-detail/${d}`).then(async r=>{const c=await r.json();x({...c})}).catch(r=>console.error(r)).finally(()=>f(!1))},[d]);const i=r=>{const{name:c,value:n}=r.target;x({...t,[c]:n})},b=async r=>{r.preventDefault(),u(!0);const c=new FormData;Object.keys(t).forEach(n=>{c.append(n,t[n])});try{const n=await fetch(`${p}/update-project/${d}`,{method:"POST",body:c});if(n.ok){const A=await n.json();g("/dashboard/projects",{state:{success:"Project updated successfully!"}})}else console.error("Error:",n.statusText)}catch(n){console.error("Fetch error:",n)}u(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(N,{title:"Edit Project"}),h?null:e.jsx("form",{onSubmit:b,children:e.jsx(l,{className:"justify-content-center",children:e.jsx(s,{children:e.jsx(C,{title:"Edit Project",children:e.jsxs(l,{children:[e.jsx(s,{lg:"6",children:e.jsxs(l,{className:"mb-3",children:[e.jsx(o,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"Name"}),e.jsx(s,{sm:"10",children:e.jsx(m,{value:t==null?void 0:t.name,onChange:i,name:"name",type:"text",id:"example-text-input"})})]})}),e.jsx(s,{lg:"6",children:e.jsxs(l,{className:"mb-3",children:[e.jsx(o,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"Address"}),e.jsx(s,{sm:"10",children:e.jsx(m,{value:t==null?void 0:t.address,onChange:i,name:"address",type:"text",id:"example-text-input"})})]})}),e.jsx(s,{lg:"6",children:e.jsxs(l,{className:"mb-3",children:[e.jsx(o,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"Post Code"}),e.jsx(s,{sm:"10",children:e.jsx(m,{value:t==null?void 0:t.postCode,onChange:i,name:"postCode",type:"text",id:"example-text-input"})})]})}),e.jsx(s,{lg:"6",children:e.jsxs(l,{className:"mb-3",children:[e.jsx(o,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"City"}),e.jsx(s,{sm:"10",children:e.jsx(m,{value:t==null?void 0:t.city,onChange:i,name:"city",type:"text",id:"example-text-input"})})]})}),e.jsx(s,{lg:"6",children:e.jsxs(l,{className:"mb-3",children:[e.jsx(o,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"Start Date"}),e.jsx(s,{sm:"10",children:e.jsx(m,{value:t==null?void 0:t.startDate,onChange:i,name:"startDate",type:"date",id:"example-text-input"})})]})}),e.jsx(l,{className:"mb-3 d-flex justify-content-center",children:e.jsx(s,{sm:"12",className:"d-flex justify-content-end",children:e.jsx(S,{disabled:j,type:"submit",variant:"primary",className:"me-1",children:"Submit"})})})]})})})})})]})};export{J as default};
