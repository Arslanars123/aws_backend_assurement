import{r as m,b as $,j as s,R as r,C as a}from"./index-DBwHp2gR.js";import{C as k}from"./ComponentContainerCard-CGy0xqPX.js";import{P as y}from"./PageMetaData-TYj1ypNn.js";import{B as n}from"./urls-CXtk4x-h.js";import{P as S}from"./page-OnObdaqm.js";import{F as c}from"./FormLabel-fYqbV-Jd.js";import{B as o}from"./Button-CssCL-wi.js";import{I as M}from"./Image-BAuz27ql.js";import"./Card-Du3hs8TN.js";import"./divWithClassName-Ur-ytTby.js";import"./Modal-DrKyHEFw.js";import"./useWindow-DTXX-IZs.js";import"./DataKey-BlFA_sew.js";import"./NoopTransition-D3hOWpSm.js";import"./FormRange-B6yzJUuH.js";const K=()=>{var f,N,g,p,u,b,w,v,C;const[D,x]=m.useState(!1),[e,P]=m.useState(null),{noteId:t}=$(),[j,h]=m.useState({show:!1,pdfFile:null,name:null}),[F,I]=m.useState({});m.useEffect(()=>{t&&(x(!0),fetch(`${n}/get-note-detail/${t}`).then(async l=>{const i=await l.json();P(i)}).catch(l=>console.error(l)).finally(()=>x(!1)))},[t]);const d=(l,i)=>{h({show:!0,pdfFile:l,name:i})};return s.jsxs(s.Fragment,{children:[s.jsx(y,{title:"Address Note"}),D?null:s.jsx(r,{className:"justify-content-center",children:s.jsx(a,{lg:"12",children:s.jsx(k,{title:"View Note",children:s.jsxs(r,{children:[s.jsx(a,{lg:"6",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(c,{className:"col-sm-3 col-form-label text-end",children:"Item"}),s.jsx(a,{sm:"9",className:"d-flex align-items-center",children:e==null?void 0:e.item})]})}),s.jsx(a,{lg:"6",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(c,{className:"col-sm-3 col-form-label text-end",children:"Comments"}),s.jsx(a,{sm:"9",className:"d-flex align-items-center",children:e==null?void 0:e.comment})]})}),s.jsx(a,{lg:"6",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(c,{className:"col-sm-3 col-form-label text-end",children:"User Name"}),s.jsx(a,{sm:"9",className:"d-flex align-items-center",children:(f=e==null?void 0:e.users)==null?void 0:f.name})]})}),s.jsx(a,{lg:"6",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(c,{className:"col-sm-3 col-form-label text-end",children:"Project Manager"}),s.jsx(a,{sm:"9",className:"d-flex align-items-center",children:(N=e==null?void 0:e.projectManager)==null?void 0:N.name})]})}),s.jsx(a,{lg:"6",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(c,{className:"col-sm-3 col-form-label text-end",children:"Drawing"}),s.jsx(a,{sm:"9",className:"d-flex align-items-center",children:(g=e==null?void 0:e.drawing)==null?void 0:g.name})]})}),s.jsx(a,{lg:"12",children:s.jsxs(r,{className:"mb-2",children:[s.jsx(c,{className:"col-sm-2 col-form-label text-end",children:"Main Drawings"}),s.jsx(a,{sm:"10",children:(u=(p=e==null?void 0:e.drawing)==null?void 0:p.mainDrawings)==null?void 0:u.map((l,i)=>s.jsxs("div",{className:"mb-2 d-flex align-items-center",children:[s.jsx(o,{variant:"link",className:"p-0 me-2",onClick:()=>d(`${n}/uploads/${l.stored}`,l.original),children:s.jsx("i",{className:"fas fa-file-pdf",style:{fontSize:"2rem",color:"#dc3545"}})}),s.jsx("div",{className:"small text-muted",children:l.original})]},i))})]})}),s.jsx(a,{lg:"12",children:s.jsxs(r,{className:"mb-2",children:[s.jsx(c,{className:"col-sm-2 col-form-label text-end",children:"Child Drawings"}),s.jsx(a,{sm:"10",children:(w=(b=e==null?void 0:e.drawing)==null?void 0:b.childDrawings)==null?void 0:w.map((l,i)=>s.jsxs("div",{className:"mb-2 d-flex align-items-center",children:[s.jsx(o,{variant:"link",className:"p-0 me-2",onClick:()=>d(`${n}/uploads/${l.stored}`,l.original),children:s.jsx("i",{className:"fas fa-file-pdf",style:{fontSize:"2rem",color:"#dc3545"}})}),s.jsx("div",{className:"small text-muted",children:l.original})]},i))})]})}),s.jsx(a,{lg:"12",children:s.jsxs(r,{className:"mb-2",children:[s.jsx(c,{className:"col-sm-2 col-form-label text-end",children:"Marked Main Drawings"}),s.jsx(a,{sm:"10",children:(v=e==null?void 0:e.annotatedPdfs)==null?void 0:v.map((l,i)=>s.jsxs("div",{className:"mb-2 d-flex align-items-center",children:[s.jsx(o,{variant:"link",className:"p-0 me-2",onClick:()=>d(`${n}/uploads/${l.filename}`,l.originalName),children:s.jsx("i",{className:"fas fa-file-pdf",style:{fontSize:"2rem",color:"#dc3545"}})}),s.jsx("div",{className:"small text-muted",children:l.originalName})]},i))})]})}),s.jsx(a,{lg:"12",children:s.jsxs(r,{className:"mb-3",children:[s.jsx(c,{className:"col-sm-2 col-form-label text-end",children:"Pictures"}),s.jsx(a,{sm:"10",className:"d-flex flex-wrap",children:(C=e==null?void 0:e.pictureObjects)==null?void 0:C.map((l,i)=>s.jsxs("div",{className:"me-3 mb-3 text-center",children:[s.jsx(M,{src:`${n}/uploads/${l.filename}`,alt:l.description,fluid:!0,rounded:!0,style:{maxWidth:"100px",maxHeight:"100px"}}),s.jsx("div",{children:l.description})]},i))})]})})]})})})}),j.show&&s.jsx(S,{drawDotsOnPdf:j,setDrawDotsOnPdf:h,readOnly:!0})]})};export{K as default};
