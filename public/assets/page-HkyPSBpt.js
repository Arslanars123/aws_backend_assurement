import{r as u,a as P,b as D,j as e,R as i,C as n}from"./index-DBwHp2gR.js";import{C as k}from"./ComponentContainerCard-CGy0xqPX.js";import{P as A}from"./PageMetaData-TYj1ypNn.js";import{B as g}from"./urls-CXtk4x-h.js";import{F as l}from"./FormLabel-fYqbV-Jd.js";import{F as v}from"./FormControl-DppOmn_c.js";import{F as d}from"./FormSelect-CvP3DY7n.js";import{B as I}from"./Button-CssCL-wi.js";import"./Card-Du3hs8TN.js";import"./divWithClassName-Ur-ytTby.js";const V={title:null,what:null,when:null,scope:null,executedDate:null,where:null,users:null},G=()=>{const[o,h]=u.useState(V),[b,x]=u.useState(!1),S=P(),{companyId:f,projectId:m}=D(),j=s=>{const{name:t,value:r}=s.target;h({...o,[t]:r})};u.useEffect(()=>{(async()=>{try{const r=await(await fetch(`${g}/get-users?projectId=${m}`)).json();w(r)}catch(t){console.error("Error fetching draws:",t)}})()},[m]);const[y,w]=u.useState([]),a=s=>{const{name:t,value:r,multiple:c,options:N}=s.target;if(c){const F=Array.from(N).filter(p=>p.selected).map(p=>p.value);h({...o,[t]:F})}else h({...o,[t]:r})},C=async s=>{s.preventDefault(),x(!0);try{const t=new FormData;Object.keys(o).forEach(c=>{t.append(c,o[c])}),t.append("companyId",f),t.append("projectsId",[m]);const r=await fetch(`${g}/store-super`,{method:"POST",body:t});if(r.ok){const c=await r.json();S(`/dashboard/companies/view/${f}/projects/view/${m}`,{state:{success:"Supervision Intern added successfully!"}})}else console.error("Error:",r.statusText)}catch(t){console.error("Fetch error:",t)}x(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(A,{title:"Add Supervision Intern"}),e.jsx("form",{onSubmit:C,children:e.jsx(i,{className:"justify-content-center",children:e.jsx(n,{children:e.jsx(k,{title:"Add Supervision Intern",children:e.jsxs(i,{children:[e.jsx(n,{lg:"6",children:e.jsxs(i,{className:"mb-3",children:[e.jsx(l,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"Scope"}),e.jsx(n,{sm:"10",children:e.jsx(v,{value:o.scope,onChange:j,name:"scope",type:"text",id:"example-text-input"})})]})}),e.jsx(n,{lg:"6",children:e.jsxs(i,{className:"mb-3",children:[e.jsx(l,{htmlFor:"example-text-input",className:"col-sm-2 col-form-label text-end",children:"Executed Date"}),e.jsx(n,{sm:"10",children:e.jsx(v,{value:o.executedDate,onChange:j,name:"executedDate",type:"date",id:"example-text-input"})})]})}),e.jsx(n,{lg:"6",children:e.jsxs(i,{className:"mb-3",children:[e.jsx(l,{className:"col-sm-2 col-form-label text-end",children:"Select Title"}),e.jsx(n,{sm:"10",children:e.jsxs(d,{value:o.title,name:"title",onChange:a,children:[e.jsx("option",{defaultValue:"",children:"Select Title"}),e.jsx("option",{value:"Process - Project Review",children:"Process - Project Review"}),e.jsx("option",{value:"Miscellaneous",children:"Miscellaneous"}),e.jsx("option",{value:"Controls for the contractor",children:"Controls for the contractor"})]})})]})}),e.jsx(n,{lg:"6",children:e.jsxs(i,{className:"mb-3",children:[e.jsx(l,{className:"col-sm-2 col-form-label text-end",children:"Select What"}),e.jsx(n,{sm:"10",children:e.jsxs(d,{value:o.what,name:"what",onChange:a,children:[e.jsx("option",{defaultValue:"",children:"Select What"}),e.jsx("option",{value:"Consistency in project materials (drawings/descriptions/contract)",children:"Consistency in project materials (drawings/descriptions/contract)"}),e.jsx("option",{value:"Planning of execution method incl. Risk assessment (work environment) and establishment of KS and APV folders.",children:"Planning of execution method incl. Risk assessment (work environment) and establishment of KS and APV folders."}),e.jsx("option",{value:"Photo registration of existing conditions has been carried out.",children:"Photo registration of existing conditions has been carried out."}),e.jsx("option",{value:"Submission of KS materials to Construction Management.",children:"Submission of KS materials to Construction Management."}),e.jsx("option",{value:"Submission of APV Folder to Construction Management.",children:"Submission of APV Folder to Construction Management."}),e.jsx("option",{value:"Submitted completed KS continuously to construction management, in connection with construction meetings or monthly digitally.",children:"Submitted completed KS continuously to construction management, in connection with construction meetings or monthly digitally."}),e.jsx("option",{value:"Controlled execution of receiving and process control, including inspection notes for deficiencies and errors.",children:"Controlled execution of receiving and process control, including inspection notes for deficiencies and errors."}),e.jsx("option",{value:"Master review/final inspection, including verification that there is a quality assurance for the completed work.",children:"Master review/final inspection, including verification that there is a quality assurance for the completed work."})]})})]})}),e.jsx(n,{lg:"6",children:e.jsxs(i,{className:"mb-3",children:[e.jsx(l,{className:"col-sm-2 col-form-label text-end",children:"Select When"}),e.jsx(n,{sm:"10",children:e.jsxs(d,{value:o.when,name:"when",onChange:a,children:[e.jsx("option",{defaultValue:"",children:"Select When"}),e.jsx("option",{value:"During process/project review",children:"During process/project review"}),e.jsx("option",{value:"Before kickoff meeting",children:"Before kickoff meeting"}),e.jsx("option",{value:"Before startup",children:"Before startup"}),e.jsx("option",{value:"At construction meetings or via email",children:"At construction meetings or via email"}),e.jsx("option",{value:"Continuously, but at least every 14 days and possibly before the construction meeting",children:"Continuously, but at least every 14 days and possibly before the construction meeting"}),e.jsx("option",{value:"Before closing off hidden building components, and before handing over sections or surfaces to another contractor. And upon completion of their work",children:"Before closing off hidden building components, and before handing over sections or surfaces to another contractor. And upon completion of their work"})]})})]})}),e.jsx(n,{lg:"6",children:e.jsxs(i,{className:"mb-3",children:[e.jsx(l,{className:"col-sm-2 col-form-label text-end",children:"Select Where"}),e.jsx(n,{sm:"10",children:e.jsxs(d,{value:o.where,name:"where",onChange:a,children:[e.jsx("option",{defaultValue:"",children:"Select Where"}),e.jsx("option",{value:"Documented in Item in Ks-material.",children:"Documented in Item in Ks-material."}),e.jsx("option",{value:"Generally",children:"Generally"}),e.jsx("option",{value:"Documented in the KS Folder.",children:"Documented in the KS Folder."})]})})]})}),e.jsx(n,{lg:"6",children:e.jsxs(i,{className:"mb-3",children:[e.jsx(l,{className:"col-sm-2 col-form-label text-end",children:"Select Receipients"}),e.jsx(n,{sm:"10",children:e.jsxs(d,{value:o.users,name:"users",onChange:a,multiple:!0,children:[e.jsx("option",{defaultValue:"",children:"Select "}),y.map(s=>e.jsxs("option",{value:s._id,children:[s.username," "]},s.id))]})})]})}),e.jsx(i,{className:"mb-3 d-flex justify-content-center",children:e.jsx(n,{sm:"12",className:"d-flex justify-content-end",children:e.jsx(I,{disabled:b,type:"submit",variant:"primary",className:"me-1",children:"Submit"})})})]})})})})})]})};export{G as default};
