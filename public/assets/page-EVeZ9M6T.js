import{N as G,O as W,r as b,S as _,j as n,U as x,n as O,V as f,Q as q,W as F,Z as et,a2 as ct,R as pt,C as dt,a as ut,u as ht,G as mt}from"./index-DPgj8bsv.js";import{P as gt}from"./PageMetaData-BOIE4fT1.js";import{C as bt}from"./ComponentContainerCard-DoOo3fSv.js";import{R as ft}from"./index-C10dNp7N.js";import{B as ot}from"./urls-B0CXljtC.js";import{B as yt}from"./Button-4B-OZ0gB.js";import{l as wt,u as St,f as K,e as A,B as xt,g as st}from"./useFormControl-C1C_dqrR.js";import{S as vt}from"./Spinner-BTDWBaIC.js";import{A as Ct}from"./Alert-zYA9_bIQ.js";import"./Card-uWXaDKgm.js";import"./divWithClassName-CSK1W61z.js";import"./IconifyIcon-jTEtCy_D.js";import"./index-DSxE2tM0.js";import"./Table-OWMEWX8Y.js";import"./Modal-wZS0_5JS.js";import"./useWindow-Bg5-wBF6.js";import"./useEventCallback-BytfugQP.js";import"./DataKey-COGXBUcQ.js";import"./NoopTransition-CP8B-7eK.js";import"./assertThisInitialized-B9jnkVVz.js";import"./hook-DZftRZuP.js";import"./Anchor-BOgA51IJ.js";function kt(t){return G("MuiTypography",t)}W("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Pt={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Bt=wt(),$t=t=>{const{align:e,gutterBottom:o,noWrap:s,paragraph:i,variant:a,classes:r}=t,c={root:["root",a,t.align!=="inherit"&&`align${f(e)}`,o&&"gutterBottom",s&&"noWrap",i&&"paragraph"]};return q(c,kt,r)},Rt=x("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.variant&&e[o.variant],o.align!=="inherit"&&e[`align${f(o.align)}`],o.noWrap&&e.noWrap,o.gutterBottom&&e.gutterBottom,o.paragraph&&e.paragraph]}})(F(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([o,s])=>o!=="inherit"&&s&&typeof s=="object").map(([o,s])=>({props:{variant:o},style:s})),...Object.entries(t.palette).filter(et()).map(([o])=>({props:{color:o},style:{color:(t.vars||t).palette[o].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,o])=>typeof o=="string").map(([o])=>({props:{color:`text${f(o)}`},style:{color:(t.vars||t).palette.text[o]}})),{props:({ownerState:o})=>o.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:o})=>o.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:o})=>o.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:o})=>o.paragraph,style:{marginBottom:16}}]}})),Y={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},tt=b.forwardRef(function(e,o){const{color:s,...i}=_({props:e,name:"MuiTypography"}),a=!Pt[s],r=Bt({...i,...a&&{color:s}}),{align:c="inherit",className:h,component:d,gutterBottom:p=!1,noWrap:w=!1,paragraph:u=!1,variant:g="body1",variantMapping:v=Y,...C}=r,k={...r,align:c,color:s,className:h,component:d,gutterBottom:p,noWrap:w,paragraph:u,variant:g,variantMapping:v},B=d||(u?"p":v[g]||Y[g])||"span",T=$t(k);return n.jsx(Rt,{as:B,ref:o,className:O(T.root,h),...C,ownerState:k,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...C.style}})});function jt(t){return G("PrivateSwitchBase",t)}W("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Ft=t=>{const{classes:e,checked:o,disabled:s,edge:i}=t,a={root:["root",o&&"checked",s&&"disabled",i&&`edge${f(i)}`],input:["input"]};return q(a,jt,e)},Tt=x(xt,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),Mt=x("input",{name:"MuiSwitchBase",shouldForwardProp:ct})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Lt=b.forwardRef(function(e,o){const{autoFocus:s,checked:i,checkedIcon:a,defaultChecked:r,disabled:c,disableFocusRipple:h=!1,edge:d=!1,icon:p,id:w,inputProps:u,inputRef:g,name:v,onBlur:C,onChange:k,onFocus:B,readOnly:T,required:M=!1,tabIndex:$,type:P,value:L,slots:V={},slotProps:H={},...z}=e,[N,J]=St({controlled:i,default:!!r,name:"SwitchBase",state:"checked"}),S=K(),D=l=>{B&&B(l),S&&S.onFocus&&S.onFocus(l)},R=l=>{C&&C(l),S&&S.onBlur&&S.onBlur(l)},U=l=>{if(l.nativeEvent.defaultPrevented)return;const y=l.target.checked;J(y),k&&k(l,y)};let I=c;S&&typeof I>"u"&&(I=S.disabled);const at=P==="checkbox"||P==="radio",X={...e,checked:N,disabled:I,disableFocusRipple:h,edge:d},Q=Ft(X),Z={slots:V,slotProps:{input:u,...H}},[rt,nt]=A("root",{ref:o,elementType:Tt,className:Q.root,shouldForwardComponentProp:!0,externalForwardedProps:{...Z,component:"span",...z},getSlotProps:l=>({...l,onFocus:y=>{var j;(j=l.onFocus)==null||j.call(l,y),D(y)},onBlur:y=>{var j;(j=l.onBlur)==null||j.call(l,y),R(y)}}),ownerState:X,additionalProps:{centerRipple:!0,focusRipple:!h,disabled:I,role:void 0,tabIndex:null}}),[it,lt]=A("input",{ref:g,elementType:Mt,className:Q.input,externalForwardedProps:Z,getSlotProps:l=>({...l,onChange:y=>{var j;(j=l.onChange)==null||j.call(l,y),U(y)}}),ownerState:X,additionalProps:{autoFocus:s,checked:i,defaultChecked:r,disabled:I,id:at?w:void 0,name:v,readOnly:T,required:M,tabIndex:$,type:P,...P==="checkbox"&&L===void 0?{}:{value:L}}});return n.jsxs(rt,{...nt,children:[n.jsx(it,{...lt}),N?a:p]})});function zt(t){return G("MuiFormControlLabel",t)}const E=W("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Nt=t=>{const{classes:e,disabled:o,labelPlacement:s,error:i,required:a}=t,r={root:["root",o&&"disabled",`labelPlacement${f(s)}`,i&&"error",a&&"required"],label:["label",o&&"disabled"],asterisk:["asterisk",i&&"error"]};return q(r,zt,e)},Dt=x("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{[`& .${E.label}`]:e.label},e.root,e[`labelPlacement${f(o.labelPlacement)}`]]}})(F(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${E.disabled}`]:{cursor:"default"},[`& .${E.label}`]:{[`&.${E.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),Ut=x("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(F(({theme:t})=>({[`&.${E.error}`]:{color:(t.vars||t).palette.error.main}}))),At=b.forwardRef(function(e,o){const s=_({props:e,name:"MuiFormControlLabel"}),{checked:i,className:a,componentsProps:r={},control:c,disabled:h,disableTypography:d,inputRef:p,label:w,labelPlacement:u="end",name:g,onChange:v,required:C,slots:k={},slotProps:B={},value:T,...M}=s,$=K(),P=h??c.props.disabled??($==null?void 0:$.disabled),L=C??c.props.required,V={disabled:P,required:L};["checked","name","onChange","value","inputRef"].forEach(U=>{typeof c.props[U]>"u"&&typeof s[U]<"u"&&(V[U]=s[U])});const H=st({props:s,muiFormControl:$,states:["error"]}),z={...s,disabled:P,labelPlacement:u,required:L,error:H.error},N=Nt(z),J={slots:k,slotProps:{...r,...B}},[S,D]=A("typography",{elementType:tt,externalForwardedProps:J,ownerState:z});let R=w;return R!=null&&R.type!==tt&&!d&&(R=n.jsx(S,{component:"span",...D,className:O(N.label,D==null?void 0:D.className),children:R})),n.jsxs(Dt,{className:O(N.root,a),ownerState:z,ref:o,...M,children:[b.cloneElement(c,V),L?n.jsxs("div",{children:[R,n.jsxs(Ut,{ownerState:z,"aria-hidden":!0,className:N.asterisk,children:["â€‰","*"]})]}):R]})});function It(t){return G("MuiFormGroup",t)}W("MuiFormGroup",["root","row","error"]);const Et=t=>{const{classes:e,row:o,error:s}=t;return q({root:["root",o&&"row",s&&"error"]},It,e)},Ot=x("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),Gt=b.forwardRef(function(e,o){const s=_({props:e,name:"MuiFormGroup"}),{className:i,row:a=!1,...r}=s,c=K(),h=st({props:s,muiFormControl:c,states:["error"]}),d={...s,row:a,error:h.error},p=Et(d);return n.jsx(Ot,{className:O(p.root,i),ownerState:d,ref:o,...r})});function Wt(t){return G("MuiSwitch",t)}const m=W("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),qt=t=>{const{classes:e,edge:o,size:s,color:i,checked:a,disabled:r}=t,c={root:["root",o&&`edge${f(o)}`,`size${f(s)}`],switchBase:["switchBase",`color${f(i)}`,a&&"checked",r&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},h=q(c,Wt,e);return{...e,...h}},Vt=x("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.edge&&e[`edge${f(o.edge)}`],e[`size${f(o.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${m.thumb}`]:{width:16,height:16},[`& .${m.switchBase}`]:{padding:4,[`&.${m.checked}`]:{transform:"translateX(16px)"}}}}]}),_t=x(Lt,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.switchBase,{[`& .${m.input}`]:e.input},o.color!=="default"&&e[`color${f(o.color)}`]]}})(F(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${m.checked}`]:{transform:"translateX(20px)"},[`&.${m.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${m.checked} + .${m.track}`]:{opacity:.5},[`&.${m.disabled} + .${m.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${m.input}`]:{left:"-100%",width:"300%"}})),F(({theme:t})=>({"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(et(["light"])).map(([e])=>({props:{color:e},style:{[`&.${m.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${m.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.55)}`}},[`&.${m.checked} + .${m.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),Ht=x("span",{name:"MuiSwitch",slot:"Track"})(F(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),Jt=x("span",{name:"MuiSwitch",slot:"Thumb"})(F(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),Xt=b.forwardRef(function(e,o){const s=_({props:e,name:"MuiSwitch"}),{className:i,color:a="primary",edge:r=!1,size:c="medium",sx:h,slots:d={},slotProps:p={},...w}=s,u={...s,color:a,edge:r,size:c},g=qt(u),v={slots:d,slotProps:p},[C,k]=A("root",{className:O(g.root,i),elementType:Vt,externalForwardedProps:v,ownerState:u,additionalProps:{sx:h}}),[B,T]=A("thumb",{className:g.thumb,elementType:Jt,externalForwardedProps:v,ownerState:u}),M=n.jsx(B,{...T}),[$,P]=A("track",{className:g.track,elementType:Ht,externalForwardedProps:v,ownerState:u});return n.jsxs(C,{...k,children:[n.jsx(_t,{type:"checkbox",icon:M,checkedIcon:M,ref:o,ownerState:u,...w,classes:{...g,root:g.switchBase},slots:{...d.switchBase&&{root:d.switchBase},...d.input&&{input:d.input}},slotProps:{...p.switchBase&&{root:typeof p.switchBase=="function"?p.switchBase(u):p.switchBase},input:{role:"switch"},...p.input&&{input:typeof p.input=="function"?p.input(u):p.input}}}),n.jsx($,{...P})]})}),Kt=({company:t,refreshData:e})=>{const[o,s]=b.useState(!1),i=async a=>{s(!0);try{const r=await fetch(`${ot}/update-company-status/${t._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:a})});r.ok?(await r.json(),e()):console.error("Error updating status:",r.statusText)}catch(r){console.error("Error in status update:",r)}s(!1)};return n.jsx(Gt,{children:n.jsx(At,{control:n.jsx(Xt,{checked:t.status==="activate",onChange:()=>i(t.status==="activate"?"deactivate":"activate"),disabled:o}),label:o?n.jsx(vt,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):t.status==="activate"?"Activated ":"Deactivated"})})},Qt=({companies:t,refreshData:e})=>{const o=[2,5,10,20,50],s=ut(),i=[{header:"Name",accessorKey:"name"},{header:"Status",cell:({row:a})=>n.jsx(Kt,{company:a.original,refreshData:e})},{header:"View Details",cell:({row:a})=>n.jsx(yt,{variant:"info",className:"me-2",onClick:()=>{var r;s(`/dashboard/generalFlowCompanies/view/${(r=a==null?void 0:a.original)==null?void 0:r._id}`)},children:"View Details"})}];return n.jsx(bt,{title:"Companies",addUrl:"/dashboard/generalFlowCompanies/add",children:n.jsx(ft,{url:"get-companies",refreshData:e,columns:i,data:t,rowsPerPageList:o,pageSize:10,tableClass:"datatable",theadClass:"table-light",showPagination:!0,searchable:!0})})},Zt=({companies:t,refreshData:e})=>n.jsx(pt,{className:"justify-content-center",children:n.jsx(dt,{xs:12,children:n.jsx(Qt,{companies:t,refreshData:e})})}),xe=()=>{var w;const[t,e]=b.useState([]),[o,s]=b.useState(!1),i=ht(),[a,r]=b.useState(((w=i.state)==null?void 0:w.success)||""),{setSelectedCompany:c,setSelectedCompanyDetailPageTab:h,setSelectedProjectDetailPageTab:d}=b.useContext(mt),p=async()=>{s(!0);try{const g=await(await fetch(`${ot}/get-companies`)).json();e(g)}catch(u){console.error(u)}finally{s(!1)}};return b.useEffect(()=>{p(),c(null),h("profession"),d("reports")},[]),n.jsxs(n.Fragment,{children:[a&&n.jsx(Ct,{variant:"success",dismissible:!0,onClose:()=>r(""),children:a}),n.jsx(gt,{title:"Data Tables"}),t&&!o&&n.jsx(Zt,{refreshData:p,companies:t})]})};export{xe as default};
