Server is running on port 3000
Connected to MongoDB finally
Static report submission received: {
  body: [Object: null prototype] {
    projectId: '6818f8ac3183bce6ec70c142',
    staticReportId: '67f7f824f8f90bb2abf49a88',
    profession: '{"_id":"687a05cd5fb060a2496dc0f1","SubjectMatterId":"KP08","GroupName":"System deliveries","Language":"EN","EuroCode":[9],"Quality_report":"Y","Static_report":"Y","Building part ICON":"3,4,5,8","companyId":"6818f8963183bce6ec70c141","professionID":"67f80da6d4970f65d85be932","projectsId":["6818f8ac3183bce6ec70c142"]}',
    controlPlan: '"understood and is buildable"',
    comment: 'eccce',
    date: '2025-07-18',
    drawing: '{"_id":"687cf0aa72801c093210d211","name":"ewv","description":"evew","companyId":"6818f8963183bce6ec70c141","projectsId":"6818f8ac3183bce6ec70c142","mainDrawings":[{"stored":"1753018538757-746595011-20231106_afs_skafter_plot.pdf","original":"20231106_afs_skafter_plot.pdf"}],"childDrawings":[],"createdAt":"2025-07-20T13:35:38.765Z"}',
    user: 'null',
    projectManager: '{"_id":"6877fb351a869659fba59096","username":"devarsulan@gmail.com","password":"1234567","role":"Worker","phone":"03046885538","name":"Arslan Zaheer","address":"11 Ansgarstr. 4, Wallenhorst, 49134","postalCode":"54950","city":"Lahore","startDate":"2025-07-17","picture":null,"contactPicture":null,"contactPerson":null,"contactPhone":null,"cvr":null,"projectsId":["undefined","6818f8ac3183bce6ec70c142"],"companyId":"6818f8963183bce6ec70c141","isProjectManager":"yes","type":null,"mainId":null,"userProfession":[{"_id":"68222dd751391fedc9fa5bec","SubjectMatterId":"KP06","GroupName":"Light Concrete_Aerated Concrete_Silica Blocks","Language":"EN","EuroCode":["EN12602"],"Quality_report":"Y","Static_report":"Y","Building part ICON":2,"companyId":"6818f8963183bce6ec70c141","professionID":"67f80da6d4970f65d85be930","projectsId":["6818f8ac3183bce6ec70c142","6839fee66a36ee767954a0b7"]}],"userRole":"Project Manager"}',
    independentController: 'null'
  },
  files: [Object: null prototype] {}
}
Parsed data: {
  profession: {
    _id: '687a05cd5fb060a2496dc0f1',
    SubjectMatterId: 'KP08',
    GroupName: 'System deliveries',
    Language: 'EN',
    EuroCode: [ 9 ],
    Quality_report: 'Y',
    Static_report: 'Y',
    'Building part ICON': '3,4,5,8',
    companyId: '6818f8963183bce6ec70c141',
    professionID: '67f80da6d4970f65d85be932',
    projectsId: [ '6818f8ac3183bce6ec70c142' ]
  },
  user: null,
  projectManager: {
    _id: '6877fb351a869659fba59096',
    username: 'devarsulan@gmail.com',
    password: '1234567',
    role: 'Worker',
    phone: '03046885538',
    name: 'Arslan Zaheer',
    address: '11 Ansgarstr. 4, Wallenhorst, 49134',
    postalCode: '54950',
    city: 'Lahore',
    startDate: '2025-07-17',
    picture: null,
    contactPicture: null,
    contactPerson: null,
    contactPhone: null,
    cvr: null,
    projectsId: [ 'undefined', '6818f8ac3183bce6ec70c142' ],
    companyId: '6818f8963183bce6ec70c141',
    isProjectManager: 'yes',
    type: null,
    mainId: null,
    userProfession: [ [Object] ],
    userRole: 'Project Manager'
  },
  controlPlan: 'understood and is buildable',
  drawing: {
    _id: '687cf0aa72801c093210d211',
    name: 'ewv',
    description: 'evew',
    companyId: '6818f8963183bce6ec70c141',
    projectsId: '6818f8ac3183bce6ec70c142',
    mainDrawings: [ [Object] ],
    childDrawings: [],
    createdAt: '2025-07-20T13:35:38.765Z'
  },
  independentController: null
}
Update path: staticReportRegistration
Project ID: 6818f8ac3183bce6ec70c142
Static Report ID: 67f7f824f8f90bb2abf49a88
Annotated PDFs: []
Pictures: []
Project found: new ObjectId('6818f8ac3183bce6ec70c142')
Project professionAssociatedData: {
  KP18: {
    staticDocumentCheckList: [
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object]
    ],
    staticReportRegistration: [
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object]
    ]
  },
  KP13: {
    staticDocumentCheckList: [
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object]
    ],
    staticReportRegistration: [
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object]
    ]
  },
  KP09: {
    staticDocumentCheckList: [
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object]
    ],
    staticReportRegistration: [
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object]
    ]
  },
  KP11: {
    staticDocumentCheckList: [
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object]
    ],
    staticReportRegistration: [
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object]
    ]
  },
  KP06: {
    staticDocumentCheckList: [
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object]
    ],
    staticReportRegistration: [
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object]
    ]
  },
  KP12: {
    staticDocumentCheckList: [
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object]
    ],
    staticReportRegistration: [
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object]
    ]
  },
  KP08: {
    staticDocumentCheckList: [
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object]
    ],
    staticReportRegistration: [
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object]
    ]
  },
  KP17: {
    staticDocumentCheckList: [
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object]
    ],
    staticReportRegistration: [
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object]
    ]
  },
  KP14: {
    staticDocumentCheckList: [
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object],
      [Object], [Object], [Object], [Object]
    ],
    staticReportRegistration: [
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object], [Object],
      [Object]
    ]
  }
}
Static report submission received: {
  body: [Object: null prototype] {
    projectId: '6818f8ac3183bce6ec70c142',
    staticReportId: '67f7f824f8f90bb2abf49a88',
    profession: '{"_id":"test"}',
    comment: 'test',
    date: '2025-01-20',
    controlPlan: 'test',
    drawing: '{"_id":"test"}',
    projectManager: 'null',
    user: 'null',
    independentController: 'null'
  },
  files: [Object: null prototype] {}
}
Error parsing controlPlan: SyntaxError: Unexpected token 'e', "test" is not valid JSON
    at JSON.parse (<anonymous>)
    at /Users/apple/Downloads/Project/consback-main 3/index.js:3490:28
    at Layer.handle [as handle_request] (/Users/apple/Downloads/Project/consback-main 3/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/apple/Downloads/Project/consback-main 3/node_modules/express/lib/router/route.js:149:13)
    at done (/Users/apple/Downloads/Project/consback-main 3/node_modules/multer/lib/make-middleware.js:45:7)
    at indicateDone (/Users/apple/Downloads/Project/consback-main 3/node_modules/multer/lib/make-middleware.js:49:68)
    at Multipart.<anonymous> (/Users/apple/Downloads/Project/consback-main 3/node_modules/multer/lib/make-middleware.js:166:7)
    at Multipart.emit (node:events:519:28)
    at emitCloseNT (node:internal/streams/destroy:147:10)
    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)
